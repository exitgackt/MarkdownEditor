# Phase 11 管理機能（簡易版） 手動テストチェックリスト

**テスト日**: 2026-01-31
**最終更新**: 2026-01-31（全セクションテスト完了）
**テスト対象**: Phase 11 管理機能（認証設定、ユーザー管理、システム設定UI改善、UIヘッダー機能）
**環境**:
- バックエンド: http://localhost:8000
- フロントエンド: http://localhost:5173
- テスター: User + Claude

**更新履歴**:
- 2026-01-31（初版）: Phase 11基本機能のテスト項目作成
- 2026-01-31（第2版）: セクション5（ヘッダーとアカウントメニューのメールアドレス表示）追加、セクション6.2-6.4（自分識別チップ、自己削除防止、データベース整合性）追加
- 2026-01-31（第3版）: 全セクション（1-9）テスト完了、結果を記録

---

## テスト準備

### 事前確認

- [ ] バックエンド稼働中（http://localhost:8000/health → `{"status":"healthy"}`）
- [ ] フロントエンド稼働中（http://localhost:5173）
- [ ] データベース接続確認
- [ ] 管理者権限を持つユーザーでログイン済み

### テストアカウント

- 管理者アカウント: `fulltest@example.com` / `FullTest123!` (is_admin=1)
- 一般ユーザーアカウント: 必要に応じて作成

---

## セクション 1: システム設定画面 - 認証方式設定

### 1.1 認証設定の表示確認

**URL**: http://localhost:5173/admin/settings

**手順**:
1. 管理者アカウントでログイン
2. 左サイドバーから「システム設定」をクリック
3. 「認証方式設定」セクションを確認

**確認項目**:
- [ ] 「認証方式設定」カードが表示される
- [ ] 「編集」ボタンが右上に表示される
- [ ] 「有効な認証方式」のラジオボタンが表示される（読み取り専用）
  - [ ] 選択されている項目が通常の色で表示される
  - [ ] 選択されていない項目が薄いグレーで表示される
  - [ ] ラジオボタンをクリックしても選択が変わらない
- [ ] 「現在の設定」アラートが表示される
- [ ] 「パスワードポリシー」セクションが表示される
- [ ] 最小文字数のテキストフィールドが表示される（読み取り専用）
- [ ] パスワードポリシーのチェックボックスが横並びで表示される（読み取り専用）
  - [ ] 大文字必須
  - [ ] 小文字必須
  - [ ] 数字必須
  - [ ] 特殊文字必須
  - [ ] メール検証必須
- [ ] すべてのフォームコントロールが操作不可（pointer-events: none）

**結果**: ⬜ PASS / ⬜ FAIL
**備考**:

---

### 1.2 認証方式の編集ダイアログ

**手順**:
1. 「認証方式設定」の「編集」ボタンをクリック
2. 認証方式の編集ダイアログが開くことを確認

**確認項目**:
- [ ] ダイアログが開く
- [ ] ダイアログのタイトルが「認証方式の編集」である
- [ ] ダイアログが横に伸びない（disableScrollLock有効）
- [ ] 有効な認証方式のラジオボタンが編集可能
- [ ] パスワードポリシーの見出しがある
- [ ] 最小文字数のテキストフィールドが編集可能
- [ ] パスワードポリシーのチェックボックスが横並びで表示される
  - [ ] すべてのチェックボックスが編集可能
- [ ] 「キャンセル」ボタンが表示される
- [ ] 「保存」ボタンが表示される

**結果**: ⬜ PASS / ⬜ FAIL
**備考**:

---

### 1.3 認証設定の変更と保存

**手順**:
1. 認証方式設定の編集ダイアログを開く
2. 設定を変更（例: パスワード最小文字数を10に変更）
3. 「保存」ボタンをクリック

**確認項目**:
- [ ] 保存処理が実行される
- [ ] 成功メッセージダイアログが表示される
  - [ ] タイトル: 「保存完了」
  - [ ] メッセージ: 「認証方式を更新しました」
  - [ ] ダイアログが横に伸びない
- [ ] 編集ダイアログが閉じる
- [ ] システム設定画面の認証方式設定に変更が反映される

**結果**: ⬜ PASS / ⬜ FAIL
**備考**:

---

### 1.4 認証設定のキャンセル

**手順**:
1. 認証方式設定の編集ダイアログを開く
2. 設定を変更
3. 「キャンセル」ボタンをクリック

**確認項目**:
- [ ] 編集ダイアログが閉じる
- [ ] 変更が破棄される
- [ ] システム設定画面の表示が変更前のまま

**結果**: ⬜ PASS / ⬜ FAIL
**備考**:

---

## セクション 2: システム設定画面 - 対応ブラウザ案内

### 2.1 対応ブラウザ案内の表示

**URL**: http://localhost:5173/admin/settings

**確認項目**:
- [ ] 「対応ブラウザ案内」カードが表示される
- [ ] 「編集」ボタンが表示される
- [ ] 初期設定値が表示される
  - [ ] 推奨ブラウザ情報
  - [ ] 対応ブラウザ一覧
  - [ ] 注意事項
  - [ ] 推奨環境
- [ ] 表示枠の高さが10行分（210px）
- [ ] 内容が10行を超える場合、スクロールバーが表示される

**結果**: ⬜ PASS / ⬜ FAIL
**備考**:

---

### 2.2 対応ブラウザ案内の編集ダイアログ

**手順**:
1. 「対応ブラウザ案内」の「編集」ボタンをクリック
2. 対応ブラウザ案内の編集ダイアログが開くことを確認

**確認項目**:
- [ ] ダイアログが開く
- [ ] ダイアログのタイトルが「対応ブラウザ案内の編集」
- [ ] ダイアログが横に伸びない（disableScrollLock有効）
- [ ] 入力エリアの上側にマージンがある（mt: 2）
- [ ] 現在の内容が表示される
- [ ] テキストエリアが編集可能（15行）
- [ ] 文字カウンターが表示される（0 / 2000 文字）
- [ ] 「キャンセル」ボタンが表示される
- [ ] 「保存」ボタンが表示される

**結果**: ⬜ PASS / ⬜ FAIL
**備考**:

---

### 2.3 対応ブラウザ案内の保存

**手順**:
1. 対応ブラウザ案内の編集ダイアログを開く
2. 内容を変更
3. 「保存」ボタンをクリック

**確認項目**:
- [ ] 保存処理が実行される
- [ ] 成功メッセージが表示される
- [ ] ダイアログが閉じる
- [ ] システム設定画面に変更が反映される

**結果**: ⬜ PASS / ⬜ FAIL
**備考**:

---

## セクション 3: システム設定画面 - 利用規約

### 3.1 利用規約の表示と編集

**URL**: http://localhost:5173/admin/settings

**確認項目**:
- [ ] 「利用規約」カードが表示される
- [ ] 「編集」ボタンが表示される
- [ ] 初期設定値（利用規約全文）が表示される
- [ ] 表示枠の高さが10行分（210px）
- [ ] 内容が10行を超える場合、スクロールバーが表示される
- [ ] 編集ダイアログが正常に動作する
- [ ] 保存処理が正常に動作する

**結果**: ⬜ PASS / ⬜ FAIL
**備考**:

---

## セクション 4: システム設定画面 - メンテナンスモード

### 4.1 メンテナンスモードの表示

**URL**: http://localhost:5173/admin/settings

**確認項目**:
- [ ] 「メンテナンスモード」カードが表示される
- [ ] 現在の状態が表示される（ON/OFF のChip）
- [ ] メンテナンスメッセージが表示される（ONの場合）
- [ ] 切替スイッチが表示される

**結果**: ⬜ PASS / ⬜ FAIL
**備考**:

---

### 4.2 メンテナンスモード切替確認ダイアログ（OFF→ON）

**手順**:
1. メンテナンスモードがOFFの状態でスイッチをクリック

**確認項目**:
- [ ] 確認ダイアログが表示される
- [ ] タイトルが「メンテナンスモード切替確認」
- [ ] 警告アイコンが表示される
- [ ] 警告メッセージが表示される
- [ ] メンテナンスメッセージ入力欄が表示される
- [ ] ダイアログが横に伸びない
- [ ] 「キャンセル」ボタンが表示される
- [ ] 「ONにする」ボタンが表示される

**結果**: ⬜ PASS / ⬜ FAIL
**備考**:

---

### 4.3 メンテナンスモード切替確認ダイアログ（ON→OFF）

**手順**:
1. メンテナンスモードがONの状態でスイッチをクリック

**確認項目**:
- [ ] 確認ダイアログが表示される
- [ ] タイトルが「メンテナンスモード切替確認」
- [ ] 「メンテナンスモードをOFFにしますか？」の上側にマージンがある
- [ ] 「メンテナンスモードをOFFにしますか？」と「すべてのユーザーが...」の間にマージンがない
- [ ] ダイアログが横に伸びない
- [ ] 「キャンセル」ボタンが表示される
- [ ] 「OFFにする」ボタンが表示される

**結果**: ⬜ PASS / ⬜ FAIL
**備考**:

---

## セクション 5: ヘッダーとアカウントメニューのメールアドレス表示

### 5.1 管理画面ヘッダーのメールアドレス表示

**URL**: http://localhost:5173/admin/settings（または他の管理画面ページ）

**手順**:
1. 管理者アカウントでログイン
2. 任意の管理画面ページにアクセス
3. 画面上部のAppBarを確認

**確認項目**:
- [ ] AppBarの右側にログイン中のメールアドレスが表示される
- [ ] メールアドレスがページタイトルの右側に配置されている
- [ ] モバイル表示でも適切に表示される

**結果**: ⬜ PASS / ⬜ FAIL
**備考**:

---

### 5.2 エディタ画面アカウントメニューのメールアドレス表示

**URL**: http://localhost:5173/（エディタ画面）

**手順**:
1. 管理者アカウントでログイン
2. エディタ画面にアクセス
3. 画面右上のアカウントアイコンをクリック
4. ドロップダウンメニューを確認

**確認項目**:
- [ ] ドロップダウンメニューの最上部にメールアドレスが表示される
- [ ] メールアドレスの下に区切り線（Divider）が表示される
- [ ] メールアドレスをクリックしても何も起こらない
- [ ] メールアドレスにホバーしても背景色が変わらない
- [ ] カーソルがデフォルト

**結果**: ⬜ PASS / ⬜ FAIL
**備考**:

---

## セクション 6: システム設定画面 - 管理者管理

### 6.1 管理者一覧の表示

**URL**: http://localhost:5173/admin/settings

**確認項目**:
- [ ] 「管理者管理」カードが表示される
- [ ] 「管理者を追加」ボタンが表示される
- [ ] 管理者一覧が表示される
- [ ] 各管理者に以下が表示される:
  - [ ] メールアドレス
  - [ ] 「自分」チップ（自分のアカウントの場合）
  - [ ] 追加日時
  - [ ] 削除ボタン（自分以外の場合）

**結果**: ⬜ PASS / ⬜ FAIL
**備考**:

---

### 6.2 自分識別チップ（isSelf）の動作確認

**手順**:
1. 管理者アカウント（例: fulltest@example.com）でログイン
2. システム設定画面の「管理者管理」セクションを確認
3. 管理者一覧を確認

**確認項目**:
- [ ] ログイン中のアカウントに青色の「自分」チップが表示される
- [ ] チップのサイズが small
- [ ] チップの色が primary（青色）
- [ ] 他の管理者には「自分」チップが表示されない
- [ ] 「自分」チップがあるアカウントには削除ボタンが表示されない

**結果**: ⬜ PASS / ⬜ FAIL
**備考**:

---

### 6.3 管理者の自己削除防止

**手順**:
1. 管理者アカウントでログイン
2. システム設定画面の管理者一覧で自分のアカウントを確認

**確認項目**:
- [ ] 自分のアカウント（「自分」チップがあるもの）に削除ボタンが表示されない
- [ ] 他の管理者には削除ボタンが表示される

**結果**: ⬜ PASS / ⬜ FAIL
**備考**:

---

### 6.4 データベース整合性の確認

**手順**:
1. バックエンドのターミナルで `python check_admin_users.py` を実行
2. 出力を確認

**確認項目**:
- [ ] `is_admin=true` のすべてのユーザーに対応する `admin_users` レコードが存在する
- [ ] `admin_users` テーブルのすべてのレコードが有効な `user_id` を持つ（孤立レコードがない）
- [ ] fulltest@example.com に `admin_users` レコードが存在する
- [ ] 管理者一覧APIのレスポンスとデータベースの内容が一致する

**結果**: ⬜ PASS / ⬜ FAIL
**備考**:

---

### 6.5 管理者追加ダイアログ

**手順**:
1. 「管理者を追加」ボタンをクリック

**確認項目**:
- [ ] 管理者追加ダイアログが開く
- [ ] タイトルが「管理者を追加」
- [ ] 説明文「管理者として追加するユーザーのメールアドレスを入力してください」が表示される
- [ ] メールアドレス入力欄が表示される
- [ ] ダイアログが横に伸びない
- [ ] 「キャンセル」ボタンが表示される
- [ ] 「追加」ボタンが表示される

**結果**: ⬜ PASS / ⬜ FAIL
**備考**:

---

### 6.6 管理者追加時の既存チェック

**手順**:
1. 既に管理者として登録されているメールアドレスを入力
2. 「追加」ボタンをクリック

**確認項目**:
- [ ] エラーメッセージが表示される（「既に管理者として登録されています」等）
- [ ] 管理者一覧が更新されない
- [ ] データベースに重複レコードが作成されない

**結果**: ⬜ PASS / ⬜ FAIL
**備考**:

---

## セクション 7: ユーザー管理画面（Phase 11簡易版）

### 7.1 ユーザー管理画面の表示

**URL**: http://localhost:5173/admin/users

**確認項目**:
- [ ] ページタイトルが「ユーザー管理」
- [ ] 「更新」ボタンが表示される（右上）
- [ ] 簡易版の説明アラートが表示される
- [ ] フィルタセクションが表示される:
  - [ ] ステータスフィルタ（すべて/アクティブ/停止中）
  - [ ] プランフィルタ（すべて/無料/月額/年額）
  - [ ] 検索フィールド（名前またはメールアドレス）
- [ ] ユーザーテーブルが表示される
- [ ] テーブルヘッダーに以下が表示される:
  - [ ] 名前
  - [ ] メールアドレス
  - [ ] ステータス
  - [ ] プラン
  - [ ] 登録日
  - [ ] 最終ログイン
  - [ ] 操作
- [ ] ページネーションが表示される

**結果**: ⬜ PASS / ⬜ FAIL
**備考**:

---

### 7.2 ユーザー一覧の動作確認

**確認項目**:
- [ ] ユーザーが一覧表示される
- [ ] 全ユーザーが「無料」プランとして表示される（簡易版の仕様）
- [ ] 全ユーザーが「アクティブ」ステータスとして表示される（簡易版の仕様）
- [ ] 登録日が表示される（YYYY/MM/DD HH:MM 形式、または "-"）
- [ ] 最終ログイン日が表示される（YYYY/MM/DD HH:MM 形式、または "-"）
- [ ] 各ユーザーに操作メニューボタン（三点リーダー）が表示される

**簡易版の注意事項**:
- すべてのユーザーは「無料プラン」「アクティブ」として表示されます
- これは実際のプラン・ステータス機能が未実装のためです

**結果**: ⬜ PASS / ⬜ FAIL
**備考**:

---

### 7.3 フィルタリング機能

**手順**:
1. ステータスフィルタを変更
2. プランフィルタを変更
3. 検索フィールドにテキストを入力

**確認項目**:
- [ ] ステータスフィルタが動作する
- [ ] プランフィルタが動作する
- [ ] 検索機能が動作する（名前/メールアドレス）
- [ ] 複数のフィルタを組み合わせて使用できる
- [ ] フィルタ変更後、ページが1ページ目にリセットされる

**結果**: ⬜ PASS / ⬜ FAIL
**備考**:

---

### 7.4 ページネーション

**確認項目**:
- [ ] ページネーションが動作する
- [ ] 表示件数を変更できる（5/10/25/50件）
- [ ] ページ情報が正しく表示される（「1-10 / 25件」形式）
- [ ] 「次へ」「前へ」ボタンが動作する

**結果**: ⬜ PASS / ⬜ FAIL
**備考**:

---

### 7.5 ユーザーステータス変更（簡易版）

**手順**:
1. ユーザーの操作メニューボタンをクリック
2. メニューが表示されることを確認
3. ステータス変更メニューをクリック

**確認項目**:
- [ ] ユーザーメニューが開く
- [ ] メニューが開いてもテーブルが横に伸びない
- [ ] 「停止する」または「アクティブにする」メニューが表示される
- [ ] メニューをクリックしてもエラーが表示されない
- [ ] メニューが閉じる

**簡易版の注意事項**:
- Phase 11簡易版では、Userモデルにstatusフィールドがないため、実際のステータス変更は行われません
- APIは正常に成功レスポンスを返しますが、データベースの更新は行われません
- これはUIテスト用のプレースホルダー実装です
- すべてのユーザーは常に「アクティブ」として表示されます

**結果**: ⬜ PASS / ⬜ FAIL
**備考**:

---

### 7.6 更新ボタン

**手順**:
1. 「更新」ボタンをクリック

**確認項目**:
- [ ] ユーザー一覧が再取得される
- [ ] ローディング状態が表示される
- [ ] 最新のデータが表示される

**結果**: ⬜ PASS / ⬜ FAIL
**備考**:

---

## セクション 8: UI/UX 共通確認

### 8.1 ダイアログの共通動作

**確認項目（すべてのダイアログ）**:
- [ ] ダイアログが横に伸びない（disableScrollLock有効）
- [ ] ダイアログの背景がスクロール可能な状態を維持
- [ ] ダイアログを開いても画面レイアウトがシフトしない
- [ ] ESCキーでダイアログが閉じる
- [ ] 背景クリックでダイアログが閉じる（一部除く）

**結果**: ⬜ PASS / ⬜ FAIL
**備考**:

---

### 8.2 カラー統一性

**確認項目**:
- [ ] 認証方式設定内のテキストカラーが統一されている
- [ ] 選択されていないラジオボタンラベルが薄いグレー表示

**結果**: ⬜ PASS / ⬜ FAIL
**備考**:

---

## セクション 9: レスポンシブデザイン

### 9.1 モバイルビュー（画面幅 < 768px）

**確認項目**:
- [ ] 認証方式設定が適切に表示される
- [ ] チェックボックスが適切に折り返される
- [ ] ダイアログが画面幅に収まる
- [ ] ユーザー管理テーブルがスクロール可能
- [ ] 管理画面ヘッダーのメールアドレスが適切に表示される
- [ ] エディタアカウントメニューが適切に表示される

**結果**: ⬜ PASS / ⬜ FAIL
**備考**:

---

### 9.2 タブレットビュー（画面幅 768px～1024px）

**確認項目**:
- [ ] すべてのレイアウトが適切に表示される
- [ ] サイドバーが適切に動作する
- [ ] メールアドレス表示が適切に配置される

**結果**: ⬜ PASS / ⬜ FAIL
**備考**:

---

## テスト総括

### 実施結果サマリー

- 総テストセクション数: 9セクション
- PASS: 9セクション（全セクション合格）
- FAIL: 0セクション
- ⚠️ 軽微な警告: 1件（MUI `anchorEl` 警告 - 表示・機能に影響なし）

### セクション別テスト結果

| セクション | 項目数 | 結果 | 備考 |
|-----------|--------|------|------|
| 1. 認証方式設定 | 4項目 | ✅ PASS | すべて正常動作 |
| 2. 対応ブラウザ案内 | 3項目 | ✅ PASS | すべて正常動作 |
| 3. 利用規約 | 1項目 | ✅ PASS | すべて正常動作 |
| 4. メンテナンスモード | 3項目 | ✅ PASS | すべて正常動作 |
| 5. メールアドレス表示 | 2項目 | ✅ PASS | 新機能、すべて正常動作 |
| 6. 管理者管理（拡張版） | 6項目 | ✅ PASS | 新機能（自分チップ等）、すべて正常動作 |
| 7. ユーザー管理画面 | 6項目 | ✅ PASS | サーバー側ページネーション実装完了、161ユーザーで動作確認 |
| 8. UI/UX共通確認 | 2項目 | ✅ PASS | ダイアログ動作、カラー統一性確認完了 |
| 9. レスポンシブデザイン | 2項目 | ✅ PASS | モバイル（375px）・タブレット（768px）動作確認完了 |

### 重要な発見事項と修正内容

#### セクション1-6のテスト時
1. **データベース整合性の問題を修正**: check_admin_users.py と fix_fulltest_admin.py で `DATABASE_URL` を `database_url` に修正（大文字・小文字の問題）
2. **UI改善**: 管理者追加ボタンを注意文の下に移動（ユーザーの要望）
3. **テスト仕様書の改善**: 詳細な実装チェック（色コード、マージン等）を削除し、より実用的なテスト項目に改善

#### セクション7のテスト時（ユーザー管理画面）
4. **日付表示の問題を修正**: バックエンドがsnake_case（created_at, last_login_at）を返しているが、フロントエンドがcamelCase（createdAt, lastLoginAt）を期待していた問題を、Pydantic の Field serialization aliases で解決
5. **ページネーション+検索の組み合わせバグを修正**: クライアント側フィルタリングとサーバー側ページネーションの組み合わせで、検索結果の6件目以降が1ページ目に表示されない問題を、完全なサーバー側実装に移行して解決
6. **スケーラビリティ改善**: 1000+ユーザーにも対応できるよう、フィルタリング・ページネーションをサーバー側で実装
7. **テストデータ作成**: 150件のテストユーザーを作成（add_test_users.py）して、大規模データでの動作確認を実施

#### セクション8のテスト時（UI/UX共通確認）
8. **MUI Fragment警告を修正**: MenuBar コンポーネントで Fragment を配列に変更し、MUI の警告を解消

#### セクション9のテスト時（レスポンシブデザイン）
9. **軽微な警告**: MUI `anchorEl` 警告がシステム設定画面で発生するが、表示・機能には影響なし（Popover.js:152）

### 追加された新機能（2026-01-31 第2版）

#### 1. ヘッダーとアカウントメニューのメールアドレス表示
- **管理画面ヘッダー**: ログイン中のメールアドレスをAppBar右側に表示
- **エディタアカウントメニュー**: ドロップダウンメニュー最上部にメールアドレスを表示
- **目的**: ユーザーが現在どのアカウントでログインしているかを常に確認できるようにする

#### 2. 自分識別チップ（isSelf）機能
- **管理者一覧の「自分」チップ**: ログイン中のアカウントに青色の「自分」チップを表示
- **自己削除防止**: 自分のアカウントには削除ボタンを表示しない
- **バックエンド実装**: AdminUserResponse スキーマに isSelf プロパティを追加
- **目的**: 管理者が誤って自分自身を削除するのを防ぐ

#### 3. データベース整合性
- **2層構造**: users.is_admin フラグと admin_users テーブルの組み合わせ
- **整合性要件**: is_admin=true のユーザーには必ず admin_users レコードが存在
- **修正スクリプト**: fix_fulltest_admin.py でデータ不整合を修正
- **目的**: 管理者の追加・削除履歴を監査できるようにする

### テスト中に実装した技術的改善

#### バックエンド改善
1. **Pydantic Field Serialization Aliases**
   - `backend/app/schemas/admin.py` の `UserDetailResponse` に Field aliases を追加
   - snake_case（created_at, last_login_at）から camelCase（createdAt, lastLoginAt）への自動変換
   - フロントエンドとの型整合性を確保

2. **サーバー側フィルタリング・ページネーション**
   - `backend/app/api/v1/admin_users.py` の `get_user_details` エンドポイント改善
   - SQLAlchemy の `ilike` を使用した大文字小文字を区別しない検索
   - クエリパラメータ: `page`, `limit`, `status`, `plan`, `search`
   - 1000+ユーザーにも対応可能なスケーラブルな実装

3. **テストデータ生成スクリプト**
   - `backend/scripts/add_test_users.py` を作成
   - 150件のテストユーザーを自動生成
   - ランダムな名前、メールアドレス、最終ログイン日、登録日

#### フロントエンド改善
1. **Fragment から配列への変更**
   - `frontend/src/components/Layout/MenuBar/MenuBar.tsx`
   - MUI Menu コンポーネントで Fragment の代わりに配列を使用
   - 各要素に key プロパティを追加

2. **サーバー側フィルタリング対応**
   - `frontend/src/stores/adminStore.ts` の `fetchUserDetails` をクエリパラメータ対応に変更
   - URLSearchParams を使用したクリーンなAPI呼び出し

3. **クライアント側フィルタリング削除**
   - `frontend/src/pages/admin/UsersPage/index.tsx`
   - `filteredUsers` と `paginatedUsers` 変数を削除
   - すべてのフィルタリング・ページネーションをサーバー側に委譲
   - パフォーマンス向上とコードの簡素化

#### ビルド・キャッシュ問題の解決
1. Vite キャッシュクリア: `node_modules/.vite` ディレクトリ削除
2. ビルド成果物クリア: `dist` ディレクトリ削除
3. 開発サーバーの完全再起動

### 次のステップ

- [x] 新機能（メールアドレス表示、自分識別チップ）のテスト実施 ✅
- [x] データベース整合性の確認 ✅
- [x] バグ修正（日付表示、ページネーション、Fragment警告） ✅
- [x] ユーザー管理画面の全機能テスト ✅
- [x] UI/UX共通確認 ✅
- [x] レスポンシブデザイン確認 ✅
- [ ] 軽微な警告の修正（オプション）: MUI `anchorEl` 警告
- [ ] 本番環境デプロイ準備

---

**テスト実施日**: 2026-01-31
**テスト完了日時**: 2026-01-31 22:00
**テスター**: User + Claude
**テスト環境**:
- バックエンド: http://localhost:8000
- フロントエンド: http://localhost:5173
- データベース: PostgreSQL (Neon)
- テストデータ: 161ユーザー（11 + 150テストユーザー）

**テスト状況**: 全9セクション完了、すべてPASS ✅

### テスト完了サマリー

✅ **Phase 11 管理機能の全テストが完了しました**

- 総セクション数: 9
- 合格: 9セクション（100%）
- 不合格: 0セクション
- 軽微な警告: 1件（機能に影響なし）

**主要な成果:**
1. サーバー側フィルタリング・ページネーション実装完了
2. 大規模データ（161ユーザー）での動作確認完了
3. レスポンシブデザイン（モバイル・タブレット）動作確認完了
4. メールアドレス表示機能、自分識別チップ機能の動作確認完了
5. すべての発見された問題を修正完了
