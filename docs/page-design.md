# ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã‚¨ãƒ‡ã‚£ã‚¿ ãƒšãƒ¼ã‚¸è©³ç´°è¨­è¨ˆæ›¸

> **ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 3.0
> **ä½œæˆæ—¥**: 2026-01-26
> **æœ€çµ‚æ›´æ–°**: 2026-02-03
> **ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: ç¢ºå®š

---

## ç›®æ¬¡

1. [P-001: ãƒ­ã‚°ã‚¤ãƒ³](#p-001-ãƒ­ã‚°ã‚¤ãƒ³)
2. [P-002: åˆ©ç”¨è¦ç´„åŒæ„](#p-002-åˆ©ç”¨è¦ç´„åŒæ„)
3. [P-003: ã‚¨ãƒ‡ã‚£ã‚¿](#p-003-ã‚¨ãƒ‡ã‚£ã‚¿)
4. [P-004: ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ä¸­](#p-004-ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ä¸­)
5. [A-001: ç®¡ç†ï¼šåˆ©ç”¨çŠ¶æ³](#a-001-ç®¡ç†åˆ©ç”¨çŠ¶æ³)
6. [A-002: ç®¡ç†ï¼šã‚·ã‚¹ãƒ†ãƒ è¨­å®š](#a-002-ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ è¨­å®š)

---

## P-001: ãƒ­ã‚°ã‚¤ãƒ³

### åŸºæœ¬æƒ…å ±

| é …ç›® | å†…å®¹ |
|------|------|
| ãƒšãƒ¼ã‚¸ID | P-001 |
| ãƒšãƒ¼ã‚¸å | ãƒ­ã‚°ã‚¤ãƒ³ |
| ãƒ‘ã‚¹ | `/login` |
| å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼ | æœªãƒ­ã‚°ã‚¤ãƒ³ãƒ¦ãƒ¼ã‚¶ãƒ¼ |
| èªè¨¼ | ä¸è¦ |

### 1. ç”»é¢æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ãƒ˜ãƒƒãƒ€ãƒ¼ï¼ˆãƒ­ã‚´ï¼‰                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚                                                             â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚              â”‚                           â”‚                  â”‚
â”‚              â”‚    Visual Studioé¢¨         â”‚                  â”‚
â”‚              â”‚    ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã‚¨ãƒ‡ã‚£ã‚¿     â”‚                  â”‚
â”‚              â”‚                           â”‚                  â”‚
â”‚              â”‚   [G] Googleã§ãƒ­ã‚°ã‚¤ãƒ³     â”‚                  â”‚
â”‚              â”‚                           â”‚                  â”‚
â”‚              â”‚   å¯¾å¿œãƒ–ãƒ©ã‚¦ã‚¶æ¡ˆå†…æ–‡        â”‚                  â”‚
â”‚              â”‚   (Chrome/Edgeæ¨å¥¨)        â”‚                  â”‚
â”‚              â”‚                           â”‚                  â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                                                             â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      ãƒ•ãƒƒã‚¿ãƒ¼                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ§‹æˆ

| ã‚¨ãƒªã‚¢ | èª¬æ˜ | é«˜ã• |
|--------|------|------|
| ãƒ˜ãƒƒãƒ€ãƒ¼ | ã‚¢ãƒ—ãƒªãƒ­ã‚´ã®ã¿ | 64px |
| ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ | ãƒ­ã‚°ã‚¤ãƒ³ã‚«ãƒ¼ãƒ‰ï¼ˆä¸­å¤®é…ç½®ï¼‰ | calc(100vh - 128px) |
| ãƒ•ãƒƒã‚¿ãƒ¼ | ã‚³ãƒ”ãƒ¼ãƒ©ã‚¤ãƒˆ | 64px |

### 2. UIè¦ç´ 

#### ãƒ˜ãƒƒãƒ€ãƒ¼

| è¦ç´  | ç¨®é¡ | ä»•æ§˜ |
|------|------|------|
| ãƒ­ã‚´ | ç”»åƒ/ãƒ†ã‚­ã‚¹ãƒˆ | ã‚¢ãƒ—ãƒªåã€ŒVS Markdown Editorã€ |

#### ãƒ­ã‚°ã‚¤ãƒ³ã‚«ãƒ¼ãƒ‰

| è¦ç´ ID | è¦ç´  | ç¨®é¡ | ä»•æ§˜ |
|--------|------|------|------|
| login-title | ã‚¿ã‚¤ãƒˆãƒ« | Typography | ã€ŒVisual Studioé¢¨ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã‚¨ãƒ‡ã‚£ã‚¿ã€ |
| login-subtitle | ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ« | Typography | ã€Œãƒ–ãƒ©ã‚¦ã‚¶ã§å‹•ä½œã™ã‚‹é«˜æ©Ÿèƒ½ã‚¨ãƒ‡ã‚£ã‚¿ã€ |
| login-google-btn | Googleãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³ | Button | Googleã‚¢ã‚¤ã‚³ãƒ³ä»˜ãã€ãƒ—ãƒ©ã‚¤ãƒãƒªã‚«ãƒ©ãƒ¼ |
| login-browser-notice | ãƒ–ãƒ©ã‚¦ã‚¶æ¡ˆå†… | Alert | ç®¡ç†è€…ãŒè¨­å®šã—ãŸæ¡ˆå†…æ–‡ã‚’è¡¨ç¤º |

#### ãƒ•ãƒƒã‚¿ãƒ¼

| è¦ç´  | ç¨®é¡ | ä»•æ§˜ |
|------|------|------|
| ã‚³ãƒ”ãƒ¼ãƒ©ã‚¤ãƒˆ | Typography | ã€ŒÂ© 2026 Visual Studio Markdown Editorã€ |

### 3. æ“ä½œãƒ•ãƒ­ãƒ¼

```mermaid
flowchart TD
    A[ãƒšãƒ¼ã‚¸è¡¨ç¤º] --> B{ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ä¸­?}
    B -->|Yes| C[P-004ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ]
    B -->|No| D[ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢è¡¨ç¤º]
    D --> E[Googleãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯]
    E --> F[Google OAuthç”»é¢]
    F --> G{èªè¨¼æˆåŠŸ?}
    G -->|Yes| H{åˆå›ãƒ¦ãƒ¼ã‚¶ãƒ¼?}
    G -->|No| I[ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º]
    I --> D
    H -->|Yes| J[P-002ã¸é·ç§»]
    H -->|No| K[P-003ã¸é·ç§»]
```

#### ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ä¸€è¦§

| No | ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ | ãƒˆãƒªã‚¬ãƒ¼ | å‡¦ç† | é·ç§»å…ˆ |
|----|-----------|----------|------|--------|
| 1 | Googleãƒ­ã‚°ã‚¤ãƒ³ | ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ | Google OAuthèªè¨¼ | P-002/P-003 |

### 4. çŠ¶æ…‹ç®¡ç†ï¼ˆZustandï¼‰

#### ä½¿ç”¨ã‚¹ãƒˆã‚¢: `authStore`

```typescript
interface AuthState {
  // çŠ¶æ…‹
  isLoading: boolean;           // ãƒ­ã‚°ã‚¤ãƒ³å‡¦ç†ä¸­ãƒ•ãƒ©ã‚°
  error: string | null;         // ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
  browserNotice: string;        // ãƒ–ãƒ©ã‚¦ã‚¶æ¡ˆå†…æ–‡ï¼ˆAPIå–å¾—ï¼‰

  // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
  loginWithGoogle: () => Promise<void>;
  clearError: () => void;
}
```

### 5. APIå‘¼ã³å‡ºã—

#### åˆæœŸè¡¨ç¤ºæ™‚

| API | ãƒ¡ã‚½ãƒƒãƒ‰ | ãƒ‘ã‚¹ | èª¬æ˜ |
|-----|----------|------|------|
| ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹çŠ¶æ…‹å–å¾— | GET | `/api/system/maintenance` | ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ä¸­ã‹ãƒã‚§ãƒƒã‚¯ |
| ãƒ–ãƒ©ã‚¦ã‚¶æ¡ˆå†…å–å¾— | GET | `/api/system/browser-notice` | è¡¨ç¤ºã™ã‚‹æ¡ˆå†…æ–‡å–å¾— |

#### ãƒ­ã‚°ã‚¤ãƒ³æ™‚

| API | ãƒ¡ã‚½ãƒƒãƒ‰ | ãƒ‘ã‚¹ | èª¬æ˜ |
|-----|----------|------|------|
| Googleèªè¨¼ | POST | `/api/auth/google` | Google IDãƒˆãƒ¼ã‚¯ãƒ³é€ä¿¡ |
| ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾— | GET | `/api/users/me` | ãƒ­ã‚°ã‚¤ãƒ³ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾— |

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹

```typescript
// POST /api/auth/google
interface LoginResponse {
  accessToken: string;
  user: {
    id: string;
    email: string;
    name: string;
    isAdmin: boolean;
    hasAgreedTerms: boolean;  // åˆ©ç”¨è¦ç´„åŒæ„æ¸ˆã¿ã‹
    createdAt: string;
  };
}
```

### 6. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æˆ

```
LoginPage/
â”œâ”€â”€ index.tsx              # ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ LoginCard.tsx          # ãƒ­ã‚°ã‚¤ãƒ³ã‚«ãƒ¼ãƒ‰
â”œâ”€â”€ GoogleLoginButton.tsx  # Googleãƒ­ã‚°ã‚¤ãƒ³ãƒœã‚¿ãƒ³
â””â”€â”€ BrowserNotice.tsx      # ãƒ–ãƒ©ã‚¦ã‚¶æ¡ˆå†…è¡¨ç¤º
```

### 7. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ”¹å–„ï¼ˆ2026-02-03ï¼‰

#### å®Ÿè£…æ¸ˆã¿æ”¹å–„
- âœ… **ãƒ‡ãƒ¢ã‚¢ã‚«ã‚¦ãƒ³ãƒˆæƒ…å ±å‰Šé™¤**: ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã‹ã‚‰ã€Œãƒ‡ãƒ¢ç”¨ç®¡ç†è€…ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ admin@example.comã€ã®è¡¨ç¤ºã‚’å‰Šé™¤
  - ç†ç”±: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯è»½æ¸›ã€æœ¬ç•ªç’°å¢ƒã«ãŠã‘ã‚‹è¦‹ãŸç›®æ”¹å–„
  - å®Ÿè£…: LoginPage ã‹ã‚‰å›ºå®šãƒ†ã‚­ã‚¹ãƒˆã‚’å‰Šé™¤

---

## P-002: åˆ©ç”¨è¦ç´„åŒæ„

### åŸºæœ¬æƒ…å ±

| é …ç›® | å†…å®¹ |
|------|------|
| ãƒšãƒ¼ã‚¸ID | P-002 |
| ãƒšãƒ¼ã‚¸å | åˆ©ç”¨è¦ç´„åŒæ„ |
| ãƒ‘ã‚¹ | `/terms` |
| å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼ | åˆå›ãƒ­ã‚°ã‚¤ãƒ³ãƒ¦ãƒ¼ã‚¶ãƒ¼ |
| èªè¨¼ | å¿…è¦ï¼ˆæœªåŒæ„çŠ¶æ…‹ï¼‰ |

### 1. ç”»é¢æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ãƒ­ã‚´                                        [ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚              â”‚     ã‚µãƒ¼ãƒ“ã‚¹åˆ©ç”¨è¦ç´„        â”‚                  â”‚
â”‚              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚
â”‚              â”‚                           â”‚                  â”‚
â”‚              â”‚  åˆ©ç”¨è¦ç´„æœ¬æ–‡               â”‚                  â”‚
â”‚              â”‚  ï¼ˆã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯èƒ½ï¼‰          â”‚                  â”‚
â”‚              â”‚                           â”‚                  â”‚
â”‚              â”‚  ...                      â”‚                  â”‚
â”‚              â”‚                           â”‚                  â”‚
â”‚              â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚
â”‚              â”‚  [Ã—] åˆ©ç”¨è¦ç´„ã«åŒæ„ã™ã‚‹     â”‚                  â”‚
â”‚              â”‚                           â”‚                  â”‚
â”‚              â”‚  [åŒæ„ã—ã¦ã‚µãƒ¼ãƒ“ã‚¹ã‚’é–‹å§‹]    â”‚                  â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      ãƒ•ãƒƒã‚¿ãƒ¼                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ§‹æˆ

| ã‚¨ãƒªã‚¢ | èª¬æ˜ | é«˜ã• |
|--------|------|------|
| ãƒ˜ãƒƒãƒ€ãƒ¼ | ãƒ­ã‚´ + ãƒ­ã‚°ã‚¢ã‚¦ãƒˆãƒœã‚¿ãƒ³ | 64px |
| ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ | åˆ©ç”¨è¦ç´„ã‚«ãƒ¼ãƒ‰ï¼ˆä¸­å¤®é…ç½®ï¼‰ | calc(100vh - 128px) |
| ãƒ•ãƒƒã‚¿ãƒ¼ | ã‚³ãƒ”ãƒ¼ãƒ©ã‚¤ãƒˆ | 64px |

### 2. UIè¦ç´ 

#### ãƒ˜ãƒƒãƒ€ãƒ¼

| è¦ç´ ID | è¦ç´  | ç¨®é¡ | ä»•æ§˜ |
|--------|------|------|------|
| header-logo | ãƒ­ã‚´ | ç”»åƒ/Typography | ã‚¢ãƒ—ãƒªãƒ­ã‚´ |
| header-logout | ãƒ­ã‚°ã‚¢ã‚¦ãƒˆãƒœã‚¿ãƒ³ | Button | ã‚¢ã‚¦ãƒˆãƒ©ã‚¤ãƒ³ã€å³å¯„ã› |

#### åˆ©ç”¨è¦ç´„ã‚«ãƒ¼ãƒ‰

| è¦ç´ ID | è¦ç´  | ç¨®é¡ | ä»•æ§˜ |
|--------|------|------|------|
| terms-title | ã‚¿ã‚¤ãƒˆãƒ« | Typography | ã€Œã‚µãƒ¼ãƒ“ã‚¹åˆ©ç”¨è¦ç´„ã€h4 |
| terms-content | åˆ©ç”¨è¦ç´„æœ¬æ–‡ | Box | ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯èƒ½ã€max-height: 400px |
| terms-checkbox | åŒæ„ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ | Checkbox | ã€Œåˆ©ç”¨è¦ç´„ã«åŒæ„ã™ã‚‹ã€ |
| terms-submit | åŒæ„ãƒœã‚¿ãƒ³ | Button | ã€ŒåŒæ„ã—ã¦ã‚µãƒ¼ãƒ“ã‚¹ã‚’é–‹å§‹ã€disabledåˆ¶å¾¡ |

### 3. æ“ä½œãƒ•ãƒ­ãƒ¼

```mermaid
flowchart TD
    A[ãƒšãƒ¼ã‚¸è¡¨ç¤º] --> B{ãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿?}
    B -->|No| C[P-001ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ]
    B -->|Yes| D{åˆ©ç”¨è¦ç´„åŒæ„æ¸ˆã¿?}
    D -->|Yes| E[P-003ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ]
    D -->|No| F[åˆ©ç”¨è¦ç´„è¡¨ç¤º]
    F --> G[è¦ç´„ã‚’èª­ã‚€/ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«]
    G --> H[ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ON]
    H --> I[åŒæ„ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯]
    I --> J[åŒæ„APIã‚³ãƒ¼ãƒ«]
    J --> K{æˆåŠŸ?}
    K -->|Yes| E
    K -->|No| L[ã‚¨ãƒ©ãƒ¼è¡¨ç¤º]
    L --> F

    M[ãƒ­ã‚°ã‚¢ã‚¦ãƒˆã‚¯ãƒªãƒƒã‚¯] --> N[ãƒ­ã‚°ã‚¢ã‚¦ãƒˆå‡¦ç†]
    N --> C
```

#### ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ä¸€è¦§

| No | ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ | ãƒˆãƒªã‚¬ãƒ¼ | å‡¦ç† | é·ç§»å…ˆ |
|----|-----------|----------|------|--------|
| 1 | åˆ©ç”¨è¦ç´„ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ« | ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ« | å†…å®¹ç¢ºèª | - |
| 2 | åŒæ„ãƒã‚§ãƒƒã‚¯ | ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ | åŒæ„ãƒœã‚¿ãƒ³æœ‰åŠ¹åŒ– | - |
| 3 | åŒæ„ã™ã‚‹ | ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ | åŒæ„APIå‘¼ã³å‡ºã— | P-003 |
| 4 | ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ | ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ | ã‚»ãƒƒã‚·ãƒ§ãƒ³ç ´æ£„ | P-001 |

### 4. çŠ¶æ…‹ç®¡ç†ï¼ˆZustandï¼‰

#### ä½¿ç”¨ã‚¹ãƒˆã‚¢: `termsStore`

```typescript
interface TermsState {
  // çŠ¶æ…‹
  termsContent: string;         // åˆ©ç”¨è¦ç´„æœ¬æ–‡
  isAgreed: boolean;            // ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹çŠ¶æ…‹
  isLoading: boolean;           // èª­ã¿è¾¼ã¿ä¸­
  isSubmitting: boolean;        // é€ä¿¡ä¸­
  error: string | null;         // ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸

  // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
  fetchTerms: () => Promise<void>;
  setAgreed: (agreed: boolean) => void;
  submitAgreement: () => Promise<void>;
}
```

### 5. APIå‘¼ã³å‡ºã—

#### åˆæœŸè¡¨ç¤ºæ™‚

| API | ãƒ¡ã‚½ãƒƒãƒ‰ | ãƒ‘ã‚¹ | èª¬æ˜ |
|-----|----------|------|------|
| åˆ©ç”¨è¦ç´„å–å¾— | GET | `/api/system/terms` | åˆ©ç”¨è¦ç´„æœ¬æ–‡å–å¾— |

#### åŒæ„æ™‚

| API | ãƒ¡ã‚½ãƒƒãƒ‰ | ãƒ‘ã‚¹ | èª¬æ˜ |
|-----|----------|------|------|
| åˆ©ç”¨è¦ç´„åŒæ„ | POST | `/api/users/agree-terms` | åŒæ„æ—¥æ™‚ã‚’è¨˜éŒ² |

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹

```typescript
// GET /api/system/terms
interface TermsResponse {
  content: string;      // Markdownå½¢å¼ã®åˆ©ç”¨è¦ç´„
  version: string;      // ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼ˆä¾‹: "1.0"ï¼‰
  updatedAt: string;    // æ›´æ–°æ—¥æ™‚
}

// POST /api/users/agree-terms
interface AgreeTermsRequest {
  version: string;  // åŒæ„ã—ãŸè¦ç´„ãƒãƒ¼ã‚¸ãƒ§ãƒ³
}
```

### 6. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æˆ

```
TermsPage/
â”œâ”€â”€ index.tsx              # ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ TermsCard.tsx          # åˆ©ç”¨è¦ç´„ã‚«ãƒ¼ãƒ‰
â”œâ”€â”€ TermsContent.tsx       # åˆ©ç”¨è¦ç´„æœ¬æ–‡è¡¨ç¤º
â””â”€â”€ AgreementCheckbox.tsx  # åŒæ„ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹
```

---

## P-003: ã‚¨ãƒ‡ã‚£ã‚¿

### åŸºæœ¬æƒ…å ±

| é …ç›® | å†…å®¹ |
|------|------|
| ãƒšãƒ¼ã‚¸ID | P-003 |
| ãƒšãƒ¼ã‚¸å | ã‚¨ãƒ‡ã‚£ã‚¿ |
| ãƒ‘ã‚¹ | `/editor` |
| å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼ | ãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼ˆåˆ©ç”¨è¦ç´„åŒæ„æ¸ˆã¿ï¼‰ |
| èªè¨¼ | å¿…è¦ |

### 1. ç”»é¢æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼                                                                 â”‚
â”‚ [ãƒ•ã‚¡ã‚¤ãƒ«â–¼] [ç·¨é›†â–¼] [è¡¨ç¤ºâ–¼] [ãƒ„ãƒ¼ãƒ«â–¼] [ãƒ˜ãƒ«ãƒ—â–¼]              [User] [è¨­å®š]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                â”‚ ã‚¿ãƒ–ãƒãƒ¼                                                    â”‚
â”‚ ã‚µã‚¤ãƒ‰ãƒãƒ¼      â”‚ [README.md Ã—] [index.ts Ã—] [+]                             â”‚
â”‚                â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                                                            â”‚
â”‚ â”‚ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚  â”‚                     â”‚                     â”‚            â”‚
â”‚ â”‚ğŸ“ Project   â”‚ â”‚  â”‚     ã‚¨ãƒ‡ã‚£ã‚¿         â”‚    ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼        â”‚            â”‚
â”‚ â”‚ â”œâ”€ğŸ“ docs   â”‚ â”‚  â”‚     (Monaco)        â”‚    (HTML)          â”‚            â”‚
â”‚ â”‚ â”‚ â””â”€ğŸ“„ READMEâ”‚ â”‚  â”‚                     â”‚                     â”‚            â”‚
â”‚ â”‚ â”œâ”€ğŸ“ src    â”‚ â”‚  â”‚  # Title            â”‚  <h1>Title</h1>     â”‚            â”‚
â”‚ â”‚ â”‚ â”œâ”€ğŸ“„ indexâ”‚ â”‚  â”‚  ## Section         â”‚  <h2>Section</h2>   â”‚            â”‚
â”‚ â”‚ â”‚ â””â”€ğŸ“„ utilsâ”‚ â”‚  â”‚  - item1            â”‚  <ul>...</ul>       â”‚            â”‚
â”‚ â”‚ â””â”€ğŸ“„ packageâ”‚ â”‚  â”‚  - item2            â”‚                     â”‚            â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚  â”‚                     â”‚                     â”‚            â”‚
â”‚ â”‚â­ãŠæ°—ã«å…¥ã‚Š  â”‚ â”‚  â”‚                     â”‚                     â”‚            â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚  â”‚                     â”‚                     â”‚            â”‚
â”‚ â”‚ â”œâ”€ğŸ“„ memo.mdâ”‚ â”‚  â”‚                     â”‚                     â”‚            â”‚
â”‚ â”‚ â””â”€ğŸ“„ todo.mdâ”‚ â”‚  â”‚                     â”‚                     â”‚            â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                â”‚                                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼                                               Ln 15, Col 23  â”‚
â”‚ UTF-8 | Markdown | ä¿å­˜æ¸ˆã¿                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ§‹æˆ

| ã‚¨ãƒªã‚¢ | èª¬æ˜ | ã‚µã‚¤ã‚º |
|--------|------|--------|
| ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼ | ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œã€ç·¨é›†ã€è¡¨ç¤ºåˆ‡æ›¿ | height: 48px |
| ã‚µã‚¤ãƒ‰ãƒãƒ¼ | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ„ãƒªãƒ¼ã€ãŠæ°—ã«å…¥ã‚Š | width: 250pxï¼ˆãƒªã‚µã‚¤ã‚ºå¯ï¼‰ |
| ã‚¿ãƒ–ãƒãƒ¼ | é–‹ã„ã¦ã„ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¿ãƒ– | height: 36px |
| ã‚¨ãƒ‡ã‚£ã‚¿é ˜åŸŸ | Monaco Editor | flex: 1ï¼ˆå·¦å´50%ï¼‰ |
| ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼é ˜åŸŸ | HTMLãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ | flex: 1ï¼ˆå³å´50%ï¼‰ |
| ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ | ãƒ•ã‚¡ã‚¤ãƒ«æƒ…å ±ã€ã‚«ãƒ¼ã‚½ãƒ«ä½ç½® | height: 24px |

### 2. UIè¦ç´ 

#### 2.1 ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼

| è¦ç´ ID | è¦ç´  | ç¨®é¡ | ä»•æ§˜ |
|--------|------|------|------|
| menu-file | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ | Menu | æ–°è¦ã€é–‹ãã€ä¿å­˜ã€ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆç­‰ |
| menu-edit | ç·¨é›†ãƒ¡ãƒ‹ãƒ¥ãƒ¼ | Menu | å…ƒã«æˆ»ã™ã€ã‚„ã‚Šç›´ã—ã€æ¤œç´¢ç­‰ |
| menu-view | è¡¨ç¤ºãƒ¡ãƒ‹ãƒ¥ãƒ¼ | Menu | ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã€ãƒã‚¤ãƒ³ãƒ‰ãƒãƒƒãƒ—ã€åˆ†å‰²è¡¨ç¤º |
| menu-tools | ãƒ„ãƒ¼ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ | Menu | å·®åˆ†æ¯”è¼ƒã€Wordå¤‰æ› |
| menu-help | ãƒ˜ãƒ«ãƒ—ãƒ¡ãƒ‹ãƒ¥ãƒ¼ | Menu | ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ± |
| menu-user | ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ | IconButton + Menu | ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã€ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ |
| menu-settings | è¨­å®šãƒœã‚¿ãƒ³ | IconButton | ã‚¨ãƒ‡ã‚£ã‚¿è¨­å®šãƒ€ã‚¤ã‚¢ãƒ­ã‚° |

##### ãƒ•ã‚¡ã‚¤ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼è©³ç´°

| ãƒ¡ãƒ‹ãƒ¥ãƒ¼é …ç›® | ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ | æ©Ÿèƒ½ |
|-------------|---------------|------|
| æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ« | Ctrl+N | æ–°è¦ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ |
| ãƒ•ã‚©ãƒ«ãƒ€ã‚’é–‹ã | Ctrl+K Ctrl+O | ãƒ•ã‚©ãƒ«ãƒ€é¸æŠãƒ€ã‚¤ã‚¢ãƒ­ã‚° |
| ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã | Ctrl+O | ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠãƒ€ã‚¤ã‚¢ãƒ­ã‚° |
| ä¿å­˜ | Ctrl+S | ä¸Šæ›¸ãä¿å­˜ |
| åå‰ã‚’ä»˜ã‘ã¦ä¿å­˜ | Ctrl+Shift+S | æ–°è¦ä¿å­˜ |
| --- | --- | ã‚»ãƒ‘ãƒ¬ãƒ¼ã‚¿ãƒ¼ |
| ã‚¤ãƒ³ãƒãƒ¼ãƒˆ | - | ã‚µãƒ–ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼ˆMarkdown, Text, Wordï¼‰ |
| ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ | - | ã‚µãƒ–ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼ˆPDF, HTML, Wordï¼‰ |
| --- | --- | ã‚»ãƒ‘ãƒ¬ãƒ¼ã‚¿ãƒ¼ |
| ã‚¿ãƒ–ã‚’é–‰ã˜ã‚‹ | Ctrl+W | ç¾åœ¨ã®ã‚¿ãƒ–ã‚’é–‰ã˜ã‚‹ |
| å…¨ã¦ã®ã‚¿ãƒ–ã‚’é–‰ã˜ã‚‹ | Ctrl+K W | å…¨ã‚¿ãƒ–ã‚’é–‰ã˜ã‚‹ |

##### è¡¨ç¤ºãƒ¡ãƒ‹ãƒ¥ãƒ¼è©³ç´°

| ãƒ¡ãƒ‹ãƒ¥ãƒ¼é …ç›® | ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ | æ©Ÿèƒ½ |
|-------------|---------------|------|
| ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤º | Ctrl+Shift+V | ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‘ãƒãƒ«è¡¨ç¤º/éè¡¨ç¤º |
| ãƒã‚¤ãƒ³ãƒ‰ãƒãƒƒãƒ— | Ctrl+Shift+M | ãƒã‚¤ãƒ³ãƒ‰ãƒãƒƒãƒ—ãƒ“ãƒ¥ãƒ¼ã«åˆ‡æ›¿ |
| ã‚¨ãƒ‡ã‚£ã‚¿ã®ã¿ | - | ã‚¨ãƒ‡ã‚£ã‚¿ã®ã¿è¡¨ç¤º |
| ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®ã¿ | - | ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®ã¿è¡¨ç¤º |
| å·¦å³åˆ†å‰² | - | ã‚¨ãƒ‡ã‚£ã‚¿+ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼æ¨ªä¸¦ã³ |
| ä¸Šä¸‹åˆ†å‰² | - | ã‚¨ãƒ‡ã‚£ã‚¿+ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ç¸¦ä¸¦ã³ |
| --- | --- | ã‚»ãƒ‘ãƒ¬ãƒ¼ã‚¿ãƒ¼ |
| ã‚µã‚¤ãƒ‰ãƒãƒ¼ | Ctrl+B | ã‚µã‚¤ãƒ‰ãƒãƒ¼è¡¨ç¤º/éè¡¨ç¤º |
| ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼ | - | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼è¡¨ç¤º/éè¡¨ç¤º |

#### 2.2 ã‚µã‚¤ãƒ‰ãƒãƒ¼

##### ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ãƒ¼ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ãƒ„ãƒªãƒ¼ï¼‰

| è¦ç´ ID | è¦ç´  | ç¨®é¡ | ä»•æ§˜ |
|--------|------|------|------|
| explorer-title | ã‚¿ã‚¤ãƒˆãƒ« | Typography | ã€Œã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ãƒ¼ã€ |
| explorer-folder-btn | ãƒ•ã‚©ãƒ«ãƒ€é¸æŠ | IconButton | ãƒ•ã‚©ãƒ«ãƒ€ã‚¢ã‚¤ã‚³ãƒ³ |
| explorer-refresh-btn | æ›´æ–°ãƒœã‚¿ãƒ³ | IconButton | ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã‚¢ã‚¤ã‚³ãƒ³ |
| explorer-tree | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ„ãƒªãƒ¼ | TreeView | éšå±¤è¡¨ç¤ºã€ã‚¢ã‚¤ã‚³ãƒ³ä»˜ã |

##### ãƒ•ã‚¡ã‚¤ãƒ«ãƒ„ãƒªãƒ¼ã‚¢ã‚¤ãƒ†ãƒ 

| è¦ç´  | ç¨®é¡ | ä»•æ§˜ |
|------|------|------|
| ãƒ•ã‚©ãƒ«ãƒ€ã‚¢ã‚¤ã‚³ãƒ³ | Icon | å±•é–‹/æŠ˜ã‚ŠãŸãŸã¿å¯¾å¿œ |
| ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ã‚¤ã‚³ãƒ³ | Icon | æ‹¡å¼µå­åˆ¥ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆ.md, .txtç­‰ï¼‰ |
| ãƒ•ã‚¡ã‚¤ãƒ«å | Typography | ã‚¯ãƒªãƒƒã‚¯ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã |
| ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼ | Menu | å³ã‚¯ãƒªãƒƒã‚¯ã§è¡¨ç¤º |

##### ãƒ•ã‚¡ã‚¤ãƒ«ãƒ„ãƒªãƒ¼ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼

| ãƒ¡ãƒ‹ãƒ¥ãƒ¼é …ç›® | å¯¾è±¡ | æ©Ÿèƒ½ |
|-------------|------|------|
| é–‹ã | ãƒ•ã‚¡ã‚¤ãƒ« | ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã |
| ãŠæ°—ã«å…¥ã‚Šã«è¿½åŠ  | ãƒ•ã‚¡ã‚¤ãƒ« | ãŠæ°—ã«å…¥ã‚Šç™»éŒ² |
| ãŠæ°—ã«å…¥ã‚Šã‹ã‚‰å‰Šé™¤ | ãƒ•ã‚¡ã‚¤ãƒ« | ãŠæ°—ã«å…¥ã‚Šè§£é™¤ |
| æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ« | ãƒ•ã‚©ãƒ«ãƒ€ | ãƒ•ã‚©ãƒ«ãƒ€å†…ã«æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ |
| æ–°è¦ãƒ•ã‚©ãƒ«ãƒ€ | ãƒ•ã‚©ãƒ«ãƒ€ | ã‚µãƒ–ãƒ•ã‚©ãƒ«ãƒ€ä½œæˆ |
| åå‰å¤‰æ›´ | ä¸¡æ–¹ | åå‰å¤‰æ›´ |
| å‰Šé™¤ | ä¸¡æ–¹ | å‰Šé™¤ç¢ºèªå¾Œã«å‰Šé™¤ |
| ãƒ‘ã‚¹ã‚’ã‚³ãƒ”ãƒ¼ | ä¸¡æ–¹ | ãƒ•ãƒ«ãƒ‘ã‚¹ã‚’ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ |

##### ãŠæ°—ã«å…¥ã‚Š

| è¦ç´ ID | è¦ç´  | ç¨®é¡ | ä»•æ§˜ |
|--------|------|------|------|
| favorites-title | ã‚¿ã‚¤ãƒˆãƒ« | Typography | ã€ŒãŠæ°—ã«å…¥ã‚Šã€ |
| favorites-list | ãŠæ°—ã«å…¥ã‚Šãƒªã‚¹ãƒˆ | List | ç™»éŒ²æ¸ˆã¿ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§ |
| favorites-item | ãŠæ°—ã«å…¥ã‚Šã‚¢ã‚¤ãƒ†ãƒ  | ListItem | ãƒ•ã‚¡ã‚¤ãƒ«åã€ã‚¢ã‚¤ã‚³ãƒ³ã€å‰Šé™¤ãƒœã‚¿ãƒ³ |

#### 2.3 ã‚¿ãƒ–ãƒãƒ¼

| è¦ç´ ID | è¦ç´  | ç¨®é¡ | ä»•æ§˜ |
|--------|------|------|------|
| tab-bar | ã‚¿ãƒ–ã‚³ãƒ³ãƒ†ãƒŠ | Box | æ¨ªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯èƒ½ |
| tab-item | ã‚¿ãƒ– | Tab | ãƒ•ã‚¡ã‚¤ãƒ«åã€å¤‰æ›´ãƒãƒ¼ã‚¯ã€é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³ |
| tab-add | æ–°è¦ã‚¿ãƒ–ãƒœã‚¿ãƒ³ | IconButton | + ã‚¢ã‚¤ã‚³ãƒ³ |

##### ã‚¿ãƒ–ã‚¢ã‚¤ãƒ†ãƒ è©³ç´°

| è¦ç´  | èª¬æ˜ |
|------|------|
| ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ã‚¤ã‚³ãƒ³ | æ‹¡å¼µå­åˆ¥ã‚¢ã‚¤ã‚³ãƒ³ |
| ãƒ•ã‚¡ã‚¤ãƒ«å | ãƒ•ã‚¡ã‚¤ãƒ«åï¼ˆå¤‰æ›´æ™‚ã¯â—ãƒãƒ¼ã‚¯ä»˜ãï¼‰ |
| é–‰ã˜ã‚‹ãƒœã‚¿ãƒ³ | Ã— ãƒœã‚¿ãƒ³ï¼ˆãƒ›ãƒãƒ¼æ™‚è¡¨ç¤ºï¼‰ |

##### ã‚¿ãƒ–ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼

| ãƒ¡ãƒ‹ãƒ¥ãƒ¼é …ç›® | æ©Ÿèƒ½ |
|-------------|------|
| é–‰ã˜ã‚‹ | ã“ã®ã‚¿ãƒ–ã‚’é–‰ã˜ã‚‹ |
| ä»–ã®ã‚¿ãƒ–ã‚’é–‰ã˜ã‚‹ | ä»–ã®å…¨ã‚¿ãƒ–ã‚’é–‰ã˜ã‚‹ |
| å³ã®ã‚¿ãƒ–ã‚’é–‰ã˜ã‚‹ | å³å´ã®å…¨ã‚¿ãƒ–ã‚’é–‰ã˜ã‚‹ |
| å…¨ã¦ã®ã‚¿ãƒ–ã‚’é–‰ã˜ã‚‹ | å…¨ã‚¿ãƒ–ã‚’é–‰ã˜ã‚‹ |
| ãƒ‘ã‚¹ã‚’ã‚³ãƒ”ãƒ¼ | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã‚’ã‚³ãƒ”ãƒ¼ |

#### 2.4 ã‚¨ãƒ‡ã‚£ã‚¿é ˜åŸŸ

| è¦ç´ ID | è¦ç´  | ç¨®é¡ | ä»•æ§˜ |
|--------|------|------|------|
| editor-monaco | Monaco Editor | Editor | ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ç·¨é›†ã€ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆ |
| editor-resizer | ãƒªã‚µã‚¤ã‚¶ãƒ¼ | Divider | ãƒ‰ãƒ©ãƒƒã‚°ã§ã‚¨ãƒ‡ã‚£ã‚¿/ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼å¹…èª¿æ•´ |

##### Monaco Editorè¨­å®š

| è¨­å®šé …ç›® | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ | èª¬æ˜ |
|----------|-------------|------|
| language | markdown | è¨€èªãƒ¢ãƒ¼ãƒ‰ |
| theme | vs-dark / vs-light | ãƒ†ãƒ¼ãƒï¼ˆã‚·ã‚¹ãƒ†ãƒ é€£å‹•ï¼‰ |
| fontSize | 14 | ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º |
| wordWrap | on | æŠ˜ã‚Šè¿”ã— |
| minimap | { enabled: true } | ãƒŸãƒ‹ãƒãƒƒãƒ—è¡¨ç¤º |
| lineNumbers | on | è¡Œç•ªå·è¡¨ç¤º |
| renderWhitespace | selection | ç©ºç™½æ–‡å­—è¡¨ç¤º |
| tabSize | 2 | ã‚¿ãƒ–ã‚µã‚¤ã‚º |

#### 2.5 ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼é ˜åŸŸ

| è¦ç´ ID | è¦ç´  | ç¨®é¡ | ä»•æ§˜ |
|--------|------|------|------|
| preview-container | ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ³ãƒ†ãƒŠ | Box | ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯èƒ½ |
| preview-content | ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼å†…å®¹ | HTML | react-markdownã§ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚° |
| preview-toolbar | ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ | Toolbar | è¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰åˆ‡æ›¿ |

##### ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ„ãƒ¼ãƒ«ãƒãƒ¼

| è¦ç´  | æ©Ÿèƒ½ |
|------|------|
| ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼/ãƒã‚¤ãƒ³ãƒ‰ãƒãƒƒãƒ—åˆ‡æ›¿ | ToggleButtonGroup |
| åŒæœŸã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ON/OFF | Switch |
| å°åˆ·ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ | Button |

#### 2.6 ãƒã‚¤ãƒ³ãƒ‰ãƒãƒƒãƒ—è¡¨ç¤ºï¼ˆãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼åˆ‡æ›¿æ™‚ï¼‰

| è¦ç´ ID | è¦ç´  | ç¨®é¡ | ä»•æ§˜ |
|--------|------|------|------|
| mindmap-container | ãƒã‚¤ãƒ³ãƒ‰ãƒãƒƒãƒ—ã‚³ãƒ³ãƒ†ãƒŠ | Box | SVGè¡¨ç¤ºé ˜åŸŸ |
| mindmap-toolbar | ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ | Toolbar | æ“ä½œãƒœã‚¿ãƒ³ç¾¤ |
| mindmap-zoom-in | ã‚ºãƒ¼ãƒ ã‚¤ãƒ³ | IconButton | + ãƒœã‚¿ãƒ³ |
| mindmap-zoom-out | ã‚ºãƒ¼ãƒ ã‚¢ã‚¦ãƒˆ | IconButton | - ãƒœã‚¿ãƒ³ |
| mindmap-reset | ãƒªã‚»ãƒƒãƒˆ | IconButton | ãƒ•ã‚£ãƒƒãƒˆè¡¨ç¤ºã«æˆ»ã™ |
| mindmap-export | ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ | Button | SVG/PNGã§ä¿å­˜ |

#### 2.7 å·®åˆ†æ¯”è¼ƒãƒ¢ãƒ¼ãƒ‰

| è¦ç´ ID | è¦ç´  | ç¨®é¡ | ä»•æ§˜ |
|--------|------|------|------|
| diff-container | å·®åˆ†è¡¨ç¤ºã‚³ãƒ³ãƒ†ãƒŠ | Box | æ¨ªä¸¦ã³2ãƒšã‚¤ãƒ³ |
| diff-editor | Monaco Diff Editor | DiffEditor | å·®åˆ†ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤º |
| diff-file-select-left | å·¦ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠ | Select | æ¯”è¼ƒå…ƒãƒ•ã‚¡ã‚¤ãƒ« |
| diff-file-select-right | å³ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠ | Select | æ¯”è¼ƒå…ˆãƒ•ã‚¡ã‚¤ãƒ« |
| diff-close | å·®åˆ†ãƒ¢ãƒ¼ãƒ‰çµ‚äº† | Button | é€šå¸¸ãƒ¢ãƒ¼ãƒ‰ã«æˆ»ã‚‹ |

#### 2.8 ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼

| è¦ç´ ID | è¦ç´  | ç¨®é¡ | ä»•æ§˜ |
|--------|------|------|------|
| status-encoding | ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° | Typography | UTF-8 |
| status-language | è¨€èªãƒ¢ãƒ¼ãƒ‰ | Typography | Markdown |
| status-save | ä¿å­˜çŠ¶æ…‹ | Typography | ä¿å­˜æ¸ˆã¿ / æœªä¿å­˜ |
| status-position | ã‚«ãƒ¼ã‚½ãƒ«ä½ç½® | Typography | Ln X, Col Y |
| status-selection | é¸æŠæ–‡å­—æ•° | Typography | Xæ–‡å­—é¸æŠä¸­ï¼ˆé¸æŠæ™‚ã®ã¿ï¼‰ |

### 3. æ“ä½œãƒ•ãƒ­ãƒ¼

#### 3.1 ãƒ¡ã‚¤ãƒ³ãƒ•ãƒ­ãƒ¼

```mermaid
flowchart TD
    A[ãƒšãƒ¼ã‚¸è¡¨ç¤º] --> B{ãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿?}
    B -->|No| C[P-001ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ]
    B -->|Yes| D{åˆ©ç”¨è¦ç´„åŒæ„æ¸ˆã¿?}
    D -->|No| E[P-002ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ]
    D -->|Yes| F[ã‚¨ãƒ‡ã‚£ã‚¿è¡¨ç¤º]
    F --> G{å‰å›ã®ã‚»ãƒƒã‚·ãƒ§ãƒ³å¾©å…ƒ?}
    G -->|Yes| H[å‰å›ã®ãƒ•ã‚©ãƒ«ãƒ€ãƒ»ã‚¿ãƒ–ã‚’å¾©å…ƒ]
    G -->|No| I[ç©ºã®ã‚¨ãƒ‡ã‚£ã‚¿è¡¨ç¤º]
    H --> J[ç·¨é›†é–‹å§‹]
    I --> J
```

#### 3.2 ãƒ•ã‚©ãƒ«ãƒ€é¸æŠãƒ•ãƒ­ãƒ¼

```mermaid
flowchart TD
    A[ãƒ•ã‚©ãƒ«ãƒ€ã‚’é–‹ãã‚¯ãƒªãƒƒã‚¯] --> B[File System Access API]
    B --> C[ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ”ãƒƒã‚«ãƒ¼è¡¨ç¤º]
    C --> D{ãƒ•ã‚©ãƒ«ãƒ€é¸æŠ?}
    D -->|Yes| E[ãƒ•ã‚¡ã‚¤ãƒ«ãƒ„ãƒªãƒ¼æ§‹ç¯‰]
    D -->|No| F[ã‚­ãƒ£ãƒ³ã‚»ãƒ«]
    E --> G[ãƒ„ãƒªãƒ¼è¡¨ç¤º]
    G --> H[æ¨©é™ã‚’IndexedDBã«ä¿å­˜]
```

#### 3.3 ãƒ•ã‚¡ã‚¤ãƒ«ç·¨é›†ãƒ•ãƒ­ãƒ¼

```mermaid
flowchart TD
    A[ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¯ãƒªãƒƒã‚¯] --> B{æ—¢ã«ã‚¿ãƒ–ã§é–‹ã„ã¦ã„ã‚‹?}
    B -->|Yes| C[è©²å½“ã‚¿ãƒ–ã‚’ã‚¢ã‚¯ãƒ†ã‚£ãƒ–åŒ–]
    B -->|No| D[ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿]
    D --> E[æ–°è¦ã‚¿ãƒ–ä½œæˆ]
    E --> F[ã‚¨ãƒ‡ã‚£ã‚¿ã«è¡¨ç¤º]
    F --> G[ç·¨é›†]
    G --> H[ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è‡ªå‹•æ›´æ–°]
    H --> I{ä¿å­˜?}
    I -->|Ctrl+S| J[ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜]
    J --> K[ä¿å­˜çŠ¶æ…‹æ›´æ–°]
```

#### 3.4 ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜ãƒ•ãƒ­ãƒ¼

```mermaid
flowchart TD
    A[ä¿å­˜æ“ä½œ] --> B{æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«?}
    B -->|Yes| C[åå‰ã‚’ä»˜ã‘ã¦ä¿å­˜ãƒ€ã‚¤ã‚¢ãƒ­ã‚°]
    B -->|No| D[ä¸Šæ›¸ãä¿å­˜]
    C --> E{ãƒ•ã‚¡ã‚¤ãƒ«åå…¥åŠ›?}
    E -->|Yes| F[ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆãƒ»ä¿å­˜]
    E -->|No| G[ã‚­ãƒ£ãƒ³ã‚»ãƒ«]
    D --> H[ãƒ•ã‚¡ã‚¤ãƒ«æ›¸ãè¾¼ã¿]
    F --> I[ã‚¿ãƒ–åæ›´æ–°]
    H --> I
    I --> J[ä¿å­˜å®Œäº†é€šçŸ¥]
```

#### ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ä¸€è¦§

| No | ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ | ãƒˆãƒªã‚¬ãƒ¼ | å‡¦ç† | å‚™è€ƒ |
|----|-----------|----------|------|------|
| 1 | ãƒ•ã‚©ãƒ«ãƒ€ã‚’é–‹ã | ãƒ¡ãƒ‹ãƒ¥ãƒ¼/Ctrl+K Ctrl+O | ãƒ•ã‚©ãƒ«ãƒ€é¸æŠ | File System Access API |
| 2 | ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã | ãƒ„ãƒªãƒ¼ã‚¯ãƒªãƒƒã‚¯ | ã‚¿ãƒ–è¿½åŠ ãƒ»è¡¨ç¤º | - |
| 3 | ã‚¿ãƒ–åˆ‡æ›¿ | ã‚¿ãƒ–ã‚¯ãƒªãƒƒã‚¯ | ã‚¨ãƒ‡ã‚£ã‚¿å†…å®¹åˆ‡æ›¿ | - |
| 4 | ã‚¿ãƒ–ã‚’é–‰ã˜ã‚‹ | Ã—ãƒœã‚¿ãƒ³/Ctrl+W | ã‚¿ãƒ–å‰Šé™¤ | æœªä¿å­˜æ™‚ã¯ç¢ºèª |
| 5 | ç·¨é›† | ã‚­ãƒ¼å…¥åŠ› | ã‚¨ãƒ‡ã‚£ã‚¿æ›´æ–° | - |
| 6 | ä¿å­˜ | Ctrl+S | ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜ | - |
| 7 | åå‰ã‚’ä»˜ã‘ã¦ä¿å­˜ | Ctrl+Shift+S | æ–°è¦ä¿å­˜ | - |
| 8 | ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼åˆ‡æ›¿ | Ctrl+Shift+V | è¡¨ç¤ºåˆ‡æ›¿ | - |
| 9 | ãƒã‚¤ãƒ³ãƒ‰ãƒãƒƒãƒ— | Ctrl+Shift+M | ãƒã‚¤ãƒ³ãƒ‰ãƒãƒƒãƒ—è¡¨ç¤º | - |
| 10 | å·®åˆ†æ¯”è¼ƒ | ãƒ„ãƒ¼ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ | å·®åˆ†ã‚¨ãƒ‡ã‚£ã‚¿è¡¨ç¤º | - |
| 11 | ãŠæ°—ã«å…¥ã‚Šç™»éŒ² | å³ã‚¯ãƒªãƒƒã‚¯ãƒ¡ãƒ‹ãƒ¥ãƒ¼ | ãŠæ°—ã«å…¥ã‚Šè¿½åŠ  | - |
| 12 | ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ | PDF/HTML/Wordå‡ºåŠ› | - |
| 13 | ã‚¤ãƒ³ãƒãƒ¼ãƒˆ | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼ | ãƒ•ã‚¡ã‚¤ãƒ«å–è¾¼ | Wordå¤‰æ›å«ã‚€ |

### 4. çŠ¶æ…‹ç®¡ç†ï¼ˆZustandï¼‰

#### 4.1 ãƒ•ã‚¡ã‚¤ãƒ«ã‚¹ãƒˆã‚¢: `fileStore`

```typescript
interface FileNode {
  id: string;
  name: string;
  path: string;
  type: 'file' | 'folder';
  children?: FileNode[];
  handle?: FileSystemHandle;  // File System Access API
}

interface FileState {
  // çŠ¶æ…‹
  rootFolder: FileNode | null;       // ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€
  rootHandle: FileSystemDirectoryHandle | null;  // ãƒ•ã‚©ãƒ«ãƒ€ãƒãƒ³ãƒ‰ãƒ«
  expandedFolders: Set<string>;      // å±•é–‹ä¸­ãƒ•ã‚©ãƒ«ãƒ€ID
  isLoading: boolean;

  // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
  openFolder: () => Promise<void>;
  refreshFolder: () => Promise<void>;
  toggleFolder: (folderId: string) => void;
  createFile: (parentId: string, name: string) => Promise<void>;
  createFolder: (parentId: string, name: string) => Promise<void>;
  deleteNode: (nodeId: string) => Promise<void>;
  renameNode: (nodeId: string, newName: string) => Promise<void>;
}
```

#### 4.2 ã‚¿ãƒ–ã‚¹ãƒˆã‚¢: `tabStore`

```typescript
interface Tab {
  id: string;
  fileId: string;
  fileName: string;
  filePath: string;
  content: string;
  originalContent: string;    // ä¿å­˜æ™‚ã®å†…å®¹ï¼ˆå¤‰æ›´æ¤œçŸ¥ç”¨ï¼‰
  isDirty: boolean;           // æœªä¿å­˜å¤‰æ›´ã‚ã‚Š
  handle?: FileSystemFileHandle;
}

interface TabState {
  // çŠ¶æ…‹
  tabs: Tab[];
  activeTabId: string | null;

  // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
  openTab: (file: FileNode) => Promise<void>;
  closeTab: (tabId: string) => Promise<boolean>;  // æœªä¿å­˜æ™‚falseè¿”å´
  closeOtherTabs: (tabId: string) => Promise<void>;
  closeAllTabs: () => Promise<void>;
  setActiveTab: (tabId: string) => void;
  updateContent: (tabId: string, content: string) => void;
  saveTab: (tabId: string) => Promise<void>;
  saveTabAs: (tabId: string) => Promise<void>;
}
```

#### 4.3 ã‚¨ãƒ‡ã‚£ã‚¿ã‚¹ãƒˆã‚¢: `editorStore`

```typescript
interface EditorSettings {
  fontSize: number;
  theme: 'vs-dark' | 'vs-light' | 'auto';
  wordWrap: 'on' | 'off' | 'wordWrapColumn';
  minimap: boolean;
  lineNumbers: 'on' | 'off' | 'relative';
  tabSize: number;
}

interface EditorState {
  // çŠ¶æ…‹
  settings: EditorSettings;
  cursorPosition: { line: number; column: number };
  selection: { start: number; end: number } | null;

  // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
  updateSettings: (settings: Partial<EditorSettings>) => void;
  setCursorPosition: (line: number, column: number) => void;
  setSelection: (start: number, end: number) => void;
}
```

#### 4.4 ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚¹ãƒˆã‚¢: `previewStore`

```typescript
type ViewMode = 'preview' | 'mindmap';
type SplitMode = 'horizontal' | 'vertical' | 'editor-only' | 'preview-only';

interface PreviewState {
  // çŠ¶æ…‹
  viewMode: ViewMode;
  splitMode: SplitMode;
  splitRatio: number;           // 0-100ï¼ˆã‚¨ãƒ‡ã‚£ã‚¿ã®å‰²åˆï¼‰
  syncScroll: boolean;          // åŒæœŸã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ON/OFF

  // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
  setViewMode: (mode: ViewMode) => void;
  setSplitMode: (mode: SplitMode) => void;
  setSplitRatio: (ratio: number) => void;
  toggleSyncScroll: () => void;
}
```

#### 4.5 ãŠæ°—ã«å…¥ã‚Šã‚¹ãƒˆã‚¢: `favoriteStore`

```typescript
interface Favorite {
  id: string;
  filePath: string;
  fileName: string;
  addedAt: string;
}

interface FavoriteState {
  // çŠ¶æ…‹
  favorites: Favorite[];
  isLoading: boolean;

  // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
  fetchFavorites: () => Promise<void>;
  addFavorite: (filePath: string, fileName: string) => Promise<void>;
  removeFavorite: (id: string) => Promise<void>;
  checkFileExists: (id: string) => Promise<boolean>;
}
```

#### 4.6 UIã‚¹ãƒˆã‚¢: `uiStore`

```typescript
interface UIState {
  // çŠ¶æ…‹
  sidebarVisible: boolean;
  sidebarWidth: number;
  statusBarVisible: boolean;
  isDiffMode: boolean;
  diffFiles: { left: string; right: string } | null;

  // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
  toggleSidebar: () => void;
  setSidebarWidth: (width: number) => void;
  toggleStatusBar: () => void;
  enterDiffMode: (leftPath: string, rightPath: string) => void;
  exitDiffMode: () => void;
}
```

### 5. APIå‘¼ã³å‡ºã—

#### åˆæœŸè¡¨ç¤ºæ™‚

| API | ãƒ¡ã‚½ãƒƒãƒ‰ | ãƒ‘ã‚¹ | èª¬æ˜ |
|-----|----------|------|------|
| ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾— | GET | `/api/users/me` | ãƒ­ã‚°ã‚¤ãƒ³çŠ¶æ…‹ç¢ºèª |
| ãŠæ°—ã«å…¥ã‚Šå–å¾— | GET | `/api/favorites` | ãŠæ°—ã«å…¥ã‚Šãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§ |
| è¨­å®šå–å¾— | GET | `/api/users/settings` | ã‚¨ãƒ‡ã‚£ã‚¿è¨­å®š |

#### ãŠæ°—ã«å…¥ã‚Šæ“ä½œ

| API | ãƒ¡ã‚½ãƒƒãƒ‰ | ãƒ‘ã‚¹ | èª¬æ˜ |
|-----|----------|------|------|
| ãŠæ°—ã«å…¥ã‚Šè¿½åŠ  | POST | `/api/favorites` | ãŠæ°—ã«å…¥ã‚Šç™»éŒ² |
| ãŠæ°—ã«å…¥ã‚Šå‰Šé™¤ | DELETE | `/api/favorites/{id}` | ãŠæ°—ã«å…¥ã‚Šè§£é™¤ |

#### è¨­å®šä¿å­˜

| API | ãƒ¡ã‚½ãƒƒãƒ‰ | ãƒ‘ã‚¹ | èª¬æ˜ |
|-----|----------|------|------|
| è¨­å®šä¿å­˜ | PUT | `/api/users/settings` | ã‚¨ãƒ‡ã‚£ã‚¿è¨­å®šä¿å­˜ |

#### ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼ˆãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰çµŒç”±ã®å ´åˆï¼‰

| API | ãƒ¡ã‚½ãƒƒãƒ‰ | ãƒ‘ã‚¹ | èª¬æ˜ |
|-----|----------|------|------|
| Wordå‡ºåŠ› | POST | `/api/export/word` | ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³â†’Wordå¤‰æ› |

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹

```typescript
// GET /api/favorites
interface FavoritesResponse {
  favorites: Array<{
    id: string;
    filePath: string;
    fileName: string;
    addedAt: string;
  }>;
}

// GET /api/users/settings
interface UserSettingsResponse {
  editor: {
    fontSize: number;
    theme: string;
    wordWrap: string;
    minimap: boolean;
    lineNumbers: string;
    tabSize: number;
  };
  lastFolderPath?: string;    // å‰å›é–‹ã„ãŸãƒ•ã‚©ãƒ«ãƒ€
  recentFiles?: string[];     // æœ€è¿‘é–‹ã„ãŸãƒ•ã‚¡ã‚¤ãƒ«
}
```

### 6. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æˆ

```
EditorPage/
â”œâ”€â”€ index.tsx                    # ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ Layout/
â”‚   â”œâ”€â”€ EditorLayout.tsx         # å…¨ä½“ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”‚   â”œâ”€â”€ MenuBar/
â”‚   â”‚   â”œâ”€â”€ MenuBar.tsx          # ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼
â”‚   â”‚   â”œâ”€â”€ FileMenu.tsx         # ãƒ•ã‚¡ã‚¤ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼
â”‚   â”‚   â”œâ”€â”€ EditMenu.tsx         # ç·¨é›†ãƒ¡ãƒ‹ãƒ¥ãƒ¼
â”‚   â”‚   â”œâ”€â”€ ViewMenu.tsx         # è¡¨ç¤ºãƒ¡ãƒ‹ãƒ¥ãƒ¼
â”‚   â”‚   â”œâ”€â”€ ToolsMenu.tsx        # ãƒ„ãƒ¼ãƒ«ãƒ¡ãƒ‹ãƒ¥ãƒ¼
â”‚   â”‚   â””â”€â”€ HelpMenu.tsx         # ãƒ˜ãƒ«ãƒ—ãƒ¡ãƒ‹ãƒ¥ãƒ¼
â”‚   â”œâ”€â”€ Sidebar/
â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx          # ã‚µã‚¤ãƒ‰ãƒãƒ¼
â”‚   â”‚   â”œâ”€â”€ Explorer.tsx         # ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ãƒ¼
â”‚   â”‚   â”œâ”€â”€ FileTree.tsx         # ãƒ•ã‚¡ã‚¤ãƒ«ãƒ„ãƒªãƒ¼
â”‚   â”‚   â”œâ”€â”€ FileTreeItem.tsx     # ãƒ„ãƒªãƒ¼ã‚¢ã‚¤ãƒ†ãƒ 
â”‚   â”‚   â”œâ”€â”€ FileContextMenu.tsx  # ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼
â”‚   â”‚   â””â”€â”€ Favorites.tsx        # ãŠæ°—ã«å…¥ã‚Š
â”‚   â”œâ”€â”€ TabBar/
â”‚   â”‚   â”œâ”€â”€ TabBar.tsx           # ã‚¿ãƒ–ãƒãƒ¼
â”‚   â”‚   â”œâ”€â”€ Tab.tsx              # ã‚¿ãƒ–
â”‚   â”‚   â””â”€â”€ TabContextMenu.tsx   # ã‚¿ãƒ–ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼
â”‚   â””â”€â”€ StatusBar/
â”‚       â””â”€â”€ StatusBar.tsx        # ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒ¼
â”œâ”€â”€ Editor/
â”‚   â”œâ”€â”€ MonacoEditor.tsx         # Monacoã‚¨ãƒ‡ã‚£ã‚¿ãƒ©ãƒƒãƒ‘ãƒ¼
â”‚   â”œâ”€â”€ EditorPane.tsx           # ã‚¨ãƒ‡ã‚£ã‚¿ãƒšã‚¤ãƒ³
â”‚   â””â”€â”€ DiffEditor.tsx           # å·®åˆ†ã‚¨ãƒ‡ã‚£ã‚¿
â”œâ”€â”€ Preview/
â”‚   â”œâ”€â”€ PreviewPane.tsx          # ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒšã‚¤ãƒ³
â”‚   â”œâ”€â”€ MarkdownPreview.tsx      # ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
â”‚   â””â”€â”€ PreviewToolbar.tsx       # ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ„ãƒ¼ãƒ«ãƒãƒ¼
â”œâ”€â”€ Mindmap/
â”‚   â”œâ”€â”€ MindmapPane.tsx          # ãƒã‚¤ãƒ³ãƒ‰ãƒãƒƒãƒ—ãƒšã‚¤ãƒ³
â”‚   â”œâ”€â”€ MindmapView.tsx          # ãƒã‚¤ãƒ³ãƒ‰ãƒãƒƒãƒ—è¡¨ç¤º
â”‚   â””â”€â”€ MindmapToolbar.tsx       # ãƒã‚¤ãƒ³ãƒ‰ãƒãƒƒãƒ—ãƒ„ãƒ¼ãƒ«ãƒãƒ¼
â”œâ”€â”€ Dialogs/
â”‚   â”œâ”€â”€ SettingsDialog.tsx       # è¨­å®šãƒ€ã‚¤ã‚¢ãƒ­ã‚°
â”‚   â”œâ”€â”€ ExportDialog.tsx         # ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆãƒ€ã‚¤ã‚¢ãƒ­ã‚°
â”‚   â”œâ”€â”€ ImportDialog.tsx         # ã‚¤ãƒ³ãƒãƒ¼ãƒˆãƒ€ã‚¤ã‚¢ãƒ­ã‚°
â”‚   â”œâ”€â”€ SaveConfirmDialog.tsx    # ä¿å­˜ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°
â”‚   â””â”€â”€ DeleteConfirmDialog.tsx  # å‰Šé™¤ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°
â””â”€â”€ hooks/
    â”œâ”€â”€ useFileSystem.ts         # File System Access API
    â”œâ”€â”€ useKeyboardShortcuts.ts  # ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ
    â”œâ”€â”€ useSyncScroll.ts         # åŒæœŸã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«
    â””â”€â”€ useAutoSave.ts           # è‡ªå‹•ä¿å­˜
```

### 7. ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆä¸€è¦§

| ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ | æ©Ÿèƒ½ |
|---------------|------|
| Ctrl+N | æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ« |
| Ctrl+O | ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã |
| Ctrl+K Ctrl+O | ãƒ•ã‚©ãƒ«ãƒ€ã‚’é–‹ã |
| Ctrl+S | ä¿å­˜ |
| Ctrl+Shift+S | åå‰ã‚’ä»˜ã‘ã¦ä¿å­˜ |
| Ctrl+W | ã‚¿ãƒ–ã‚’é–‰ã˜ã‚‹ |
| Ctrl+Tab | æ¬¡ã®ã‚¿ãƒ–ã¸ |
| Ctrl+Shift+Tab | å‰ã®ã‚¿ãƒ–ã¸ |
| Ctrl+Z | å…ƒã«æˆ»ã™ |
| Ctrl+Y | ã‚„ã‚Šç›´ã— |
| Ctrl+F | æ¤œç´¢ |
| Ctrl+H | ç½®æ› |
| Ctrl+Shift+V | ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼åˆ‡æ›¿ |
| Ctrl+Shift+M | ãƒã‚¤ãƒ³ãƒ‰ãƒãƒƒãƒ—åˆ‡æ›¿ |
| Ctrl+B | ã‚µã‚¤ãƒ‰ãƒãƒ¼åˆ‡æ›¿ |
| Ctrl+1ã€œ9 | nç•ªç›®ã®ã‚¿ãƒ–ã¸ |
| F11 | ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ |

---

## P-003.1: ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼è©³ç´°ä»•æ§˜

### ç›®çš„
Visual Studioé¢¨ã®æ“ä½œæ€§ã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼ã§ä¸€èˆ¬çš„ãªãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œãƒ»ç·¨é›†æ©Ÿèƒ½ã‚’æä¾›

### ãƒ¡ãƒ‹ãƒ¥ãƒ¼æ§‹æˆ

**ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆFï¼‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼**
| é …ç›® | ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ | èª¬æ˜ |
|------|--------------|------|
| æ–°ã—ã„ãƒ•ã‚¡ã‚¤ãƒ« | Alt+N | æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ |
| æ–°ã—ã„ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ | Alt+B | æ–°è¦ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’ä½œæˆï¼ˆãƒ•ã‚©ãƒ«ãƒ€é¸æŠæ™‚ã®ã¿ï¼‰ |
| ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã | Alt+O | ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã |
| ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’é–‹ã | Alt+U | ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã‚’é–‹ãï¼ˆFile System Access APIï¼‰ |
| ã‚¤ãƒ³ãƒãƒ¼ãƒˆ | Alt+I | Word/ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ |
| ä¿å­˜ | Ctrl+S | ç¾åœ¨ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿å­˜ |
| åå‰ã‚’ä»˜ã‘ã¦ä¿å­˜ | Alt+S | æ–°ã—ã„åå‰ã§ä¿å­˜ |
| ã™ã¹ã¦ä¿å­˜ | Ctrl+Alt+S | ã™ã¹ã¦ã®ã‚¿ãƒ–ã‚’ä¿å­˜ |
| ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ | - | PDF/HTML/Wordå½¢å¼ã§ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼ˆã‚µãƒ–ãƒ¡ãƒ‹ãƒ¥ãƒ¼ï¼‰ |
| ã‚¿ãƒ–ã‚’é–‰ã˜ã‚‹ | Alt+K | ç¾åœ¨ã®ã‚¿ãƒ–ã‚’é–‰ã˜ã‚‹ |
| å…¨ã¦ã®ã‚¿ãƒ–ã‚’é–‰ã˜ã‚‹ | Alt+J | ã™ã¹ã¦ã®ã‚¿ãƒ–ã‚’é–‰ã˜ã‚‹ |

**ç·¨é›†ï¼ˆEï¼‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼**
| é …ç›® | ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ | èª¬æ˜ |
|------|--------------|------|
| å…ƒã«æˆ»ã™ | Ctrl+Z | æœ€å¾Œã®ç·¨é›†ã‚’å–ã‚Šæ¶ˆã™ |
| ã‚„ã‚Šç›´ã— | Ctrl+Y | å–ã‚Šæ¶ˆã—ãŸç·¨é›†ã‚’ã‚„ã‚Šç›´ã™ |
| æ¤œç´¢ | Ctrl+F | ãƒ†ã‚­ã‚¹ãƒˆæ¤œç´¢ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’é–‹ã |
| ç½®æ› | Ctrl+R | ãƒ†ã‚­ã‚¹ãƒˆç½®æ›ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’é–‹ã |
| å‰ã®ã‚¿ãƒ– | Alt+Z | å‰ã®ã‚¿ãƒ–ã«åˆ‡ã‚Šæ›¿ãˆ |
| æ¬¡ã®ã‚¿ãƒ– | Alt+X | æ¬¡ã®ã‚¿ãƒ–ã«åˆ‡ã‚Šæ›¿ãˆ |

**è¡¨ç¤ºï¼ˆVï¼‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼**
| é …ç›® | ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ | èª¬æ˜ |
|------|--------------|------|
| ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ | Alt+L | ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ‘ãƒãƒ«ã®è¡¨ç¤º/éè¡¨ç¤º |
| ãƒã‚¤ãƒ³ãƒ‰ãƒãƒƒãƒ— | Alt+M | ãƒã‚¤ãƒ³ãƒ‰ãƒãƒƒãƒ—è¡¨ç¤ºã®è¡¨ç¤º/éè¡¨ç¤º |
| åˆ†å‰²ã‚¨ãƒ‡ã‚£ã‚¿ | Alt+D | åˆ†å‰²ã‚¨ãƒ‡ã‚£ã‚¿è¡¨ç¤ºã®è¡¨ç¤º/éè¡¨ç¤º |
| ã‚µã‚¤ãƒ‰ãƒãƒ¼ | Alt+W | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ„ãƒªãƒ¼ï¼ˆå·¦ãƒ‘ãƒãƒ«ï¼‰ã®è¡¨ç¤º/éè¡¨ç¤º |
| å·®åˆ†æ¯”è¼ƒ | Ctrl+Alt+C | å·®åˆ†æ¯”è¼ƒãƒ¢ãƒ¼ãƒ‰ã®é–‹å§‹/çµ‚äº† |

**ãƒ„ãƒ¼ãƒ«ï¼ˆTï¼‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼**
| é …ç›® | ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ | èª¬æ˜ |
|------|--------------|------|
| è¨­å®š | - | ã‚¨ãƒ‡ã‚£ã‚¿è¨­å®šãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’é–‹ã |

**ãƒ˜ãƒ«ãƒ—ï¼ˆHï¼‰ãƒ¡ãƒ‹ãƒ¥ãƒ¼**
| é …ç›® | ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ | èª¬æ˜ |
|------|--------------|------|
| ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ | - | ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆä¸€è¦§ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’é–‹ã |
| ãƒ˜ãƒ«ãƒ— | - | ãƒ˜ãƒ«ãƒ—ãƒšãƒ¼ã‚¸ã‚’é–‹ã |
| ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ± | - | ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’è¡¨ç¤º |

### å®Ÿè£…ä¸Šã®æ³¨æ„ç‚¹
- Alt ã‚­ãƒ¼ã§ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚¢ã‚¯ã‚»ã‚¹æ™‚ã®ãƒ‹ãƒ¼ãƒ¢ãƒ‹ãƒƒã‚¯è¡¨ç¤º
- ãƒ¡ãƒ‹ãƒ¥ãƒ¼é …ç›®ã®æœ‰åŠ¹/ç„¡åŠ¹çŠ¶æ…‹ã‚’é©åˆ‡ã«åˆ‡ã‚Šæ›¿ãˆï¼ˆä¾‹ï¼šãƒ•ã‚©ãƒ«ãƒ€æœªé¸æŠæ™‚ã¯æ–°è¦ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ç„¡åŠ¹ï¼‰
- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆâ—€ â–¶ï¼‰ã§å‰å¾Œã®ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆã‚’è¦–è¦šçš„ã«è¡¨ç¾

---

## P-003.2: å·®åˆ†æ¯”è¼ƒæ©Ÿèƒ½è©³ç´°ä»•æ§˜

### ç›®çš„
2ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ã‚’è¦–è¦šçš„ã«æ¯”è¼ƒã—ã€å¤‰æ›´ç‚¹ã‚’æ˜ç¢ºã«è¡¨ç¤ºã™ã‚‹

### ä¸»è¦æ©Ÿèƒ½
- **Side-by-sideè¡¨ç¤º**: å·¦å´ï¼ˆoriginalï¼‰ã¨å³å´ï¼ˆmodifiedï¼‰ã«ä¸¦ã¹ã¦è¡¨ç¤º
- **å·®åˆ†ãƒã‚¤ãƒ©ã‚¤ãƒˆ**: å‰Šé™¤è¡Œã¯èµ¤è‰²ã€è¿½åŠ è¡Œã¯ç·‘è‰²ã§å¼·èª¿
- **è¡Œç•ªå·è¡¨ç¤º**: ä¸¡å´ã«è¡Œç•ªå·ã‚’è¡¨ç¤ºã—ã¦å¯¾æ¯”ã‚’å®¹æ˜“ã«
- **ã‚°ãƒªãƒ•ãƒãƒ¼ã‚¸ãƒ³**: è¡Œç•ªå·å·¦å´ã«å·®åˆ†ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ã‚’è¡¨ç¤º
- **ç‹¬ç«‹ã—ãŸç·¨é›†**: å·¦å³ä¸¡å´ã®ã‚¨ãƒ‡ã‚£ã‚¿ã§ç·¨é›†å¯èƒ½
- **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ›´æ–°**: ç·¨é›†å†…å®¹ãŒã‚¿ãƒ–ã«å³åº§ã«åæ˜ 

### æŠ€è¡“ä»•æ§˜ï¼ˆMonaco Diff Editorï¼‰
```typescript
// ä¸»è¦è¨­å®š
{
  renderSideBySide: true,          // ä¸¦ã¹ã¦è¡¨ç¤º
  renderIndicators: true,          // å·®åˆ†ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼è¡¨ç¤º
  glyphMargin: true,               // ã‚°ãƒªãƒ•ãƒãƒ¼ã‚¸ãƒ³æœ‰åŠ¹åŒ–
  renderOverviewRuler: true,       // overview rulerè¡¨ç¤º
  overviewRulerLanes: 3,           // overview ruler ã®è¡¨ç¤ºãƒ¬ãƒ¼ãƒ³æ•°
  enableSplitViewResizing: true,   // ãƒªã‚µã‚¤ã‚ºå¯èƒ½
  ignoreTrimWhitespace: false,     // æœ«å°¾ç©ºç™½ã‚‚æ¯”è¼ƒå¯¾è±¡
  originalEditable: true,          // å·¦å´ã‚¨ãƒ‡ã‚£ã‚¿ç·¨é›†å¯èƒ½
  readOnly: false,                 // å³å´ã‚¨ãƒ‡ã‚£ã‚¿ç·¨é›†å¯èƒ½
}

// ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒ©ãƒ¼
- onOriginalChange: å·¦å´ï¼ˆoriginalï¼‰ã®ç·¨é›†å†…å®¹ã‚’æ¤œå‡º
- onModifiedChange: å³å´ï¼ˆmodifiedï¼‰ã®ç·¨é›†å†…å®¹ã‚’æ¤œå‡º
```

### ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œãƒ•ãƒ­ãƒ¼
1. ã‚¨ãƒ‡ã‚£ã‚¿ãƒšãƒ¼ã‚¸ã§ã€Œå·®åˆ†æ¯”è¼ƒã€ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’é¸æŠ
2. ã‚·ã‚¹ãƒ†ãƒ ãŒå·®åˆ†æ¯”è¼ƒãƒ¢ãƒ¼ãƒ‰é–‹å§‹
3. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¿ãƒ–ã‹ã‚‰å·¦å³ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ
4. Monaco Diff Editor ãŒ2ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¸¦ã¹ã¦è¡¨ç¤º
5. å·®åˆ†éƒ¨åˆ†ãŒè‰²ä»˜ãï¼ˆèµ¤=å‰Šé™¤ã€ç·‘=è¿½åŠ ï¼‰ã§è¡¨ç¤º
6. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå·¦å³ã©ã¡ã‚‰ã®ã‚¨ãƒ‡ã‚£ã‚¿ã§ã‚‚ç·¨é›†å¯èƒ½
7. Ctrl+S ã§ç·¨é›†å†…å®¹ã‚’ä¿å­˜
8. ã€Œé€šå¸¸ãƒ¢ãƒ¼ãƒ‰ã«æˆ»ã‚‹ã€ã§æ¯”è¼ƒçµ‚äº†

---

## P-003.3: è¨­å®šæ©Ÿèƒ½è©³ç´°ä»•æ§˜

### ç›®çš„
ã‚¨ãƒ‡ã‚£ã‚¿ã®è¡¨ç¤ºãƒ»å‹•ä½œè¨­å®šã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹

### è¨­å®šé …ç›®
| è¨­å®šé …ç›® | èª¬æ˜ | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ |
|---------|------|------------|
| ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º | ã‚¨ãƒ‡ã‚£ã‚¿ã®ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºï¼ˆ10-20pxï¼‰ | 14px |
| æŠ˜ã‚Šè¿”ã— | é•·ã„è¡Œã®è‡ªå‹•æŠ˜ã‚Šè¿”ã—è¨­å®š | On |
| ãƒŸãƒ‹ãƒãƒƒãƒ—è¡¨ç¤º | å³å´ãƒŸãƒ‹ãƒãƒƒãƒ—ã®è¡¨ç¤º/éè¡¨ç¤º | Off |
| è¡Œç•ªå·è¡¨ç¤º | å·¦å´è¡Œç•ªå·ã®è¡¨ç¤º/éè¡¨ç¤º | On |

### å‰Šé™¤ã•ã‚ŒãŸè¨­å®š
- **ã‚«ãƒ©ãƒ¼ãƒ†ãƒ¼ãƒé¸æŠ**: VS Codeæ¨™æº–ã®ãƒ€ãƒ¼ã‚¯ãƒ†ãƒ¼ãƒï¼ˆvs-darkï¼‰ã§å›ºå®šåŒ–
  - ç†ç”±: å˜ä¸€ãƒ†ãƒ¼ãƒã§ã®ç®¡ç†ã«ã‚ˆã‚Šã€UIã®è¤‡é›‘ã•å‰Šæ¸›ã¨å®‰å®šæ€§å‘ä¸Š
  - ãƒ†ãƒ¼ãƒè‡ªå‹•æ¤œå‡º: ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰è¨­å®šã«åŸºã¥ã„ã¦è‡ªå‹•é©ç”¨

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£æ”¹å–„ï¼ˆ2026-02-03ï¼‰

#### å®Ÿè£…æ¸ˆã¿æ”¹å–„
- âœ… **RegisterPage ã®è‡ªå‹•å…¥åŠ›é˜²æ­¢**
  - ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹: `autoComplete: 'off'`
  - ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰: `autoComplete: 'new-password'`
  - ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼ˆç¢ºèªï¼‰: `autoComplete: 'new-password'`
  - ãƒ•ã‚©ãƒ¼ãƒ : `autoComplete: "off"` ã‚’è¨­å®š
  - useEffect ã§ãƒã‚¦ãƒ³ãƒˆæ™‚ã«ãƒ•ã‚©ãƒ¼ãƒ å€¤ã‚’ãƒªã‚»ãƒƒãƒˆ
  - å‰å›ãƒ­ã‚°ã‚¤ãƒ³æ™‚ã®èªè¨¼æƒ…å ±ãŒè¡¨ç¤ºã•ã‚Œãªã„ã‚ˆã†ã«æ”¹å–„

#### UI/UXæ”¹å–„ï¼ˆ2026-02-03ï¼‰

- âœ… **HelpDialog ã®åˆæœŸè¡¨ç¤ºä¿®æ­£**
  - ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’é–‹ãåº¦ã«ã€Œæ¦‚è¦ã€ã‚¿ãƒ–ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ä¿®æ­£
  - useEffect ã§ `open` ãƒ—ãƒ­ãƒƒãƒ—å¤‰åŒ–ã‚’æ¤œå‡ºã—ã¦ `setTabValue(0)` ã‚’å®Ÿè¡Œ

- âœ… **VersionInfoDialog ã®åˆæœŸè¡¨ç¤ºä¿®æ­£**
  - ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã‚’é–‹ãåº¦ã«ã€Œãƒãƒ¼ã‚¸ãƒ§ãƒ³ã€ã‚¿ãƒ–ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ä¿®æ­£
  - Dialog ã® `TransitionProps.onEntered` ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’ä½¿ç”¨
  - ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒå®Œå…¨ã«é–‹ã‹ã‚ŒãŸæ™‚ç‚¹ã§ã‚¿ãƒ–ã‚’ãƒªã‚»ãƒƒãƒˆ

- âœ… **ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã®ãƒ‡ã‚¶ã‚¤ãƒ³çµ±ä¸€**
  - ãƒ˜ãƒ«ãƒ—ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã®ãƒ‡ã‚¶ã‚¤ãƒ³ã«çµ±ä¸€
  - èƒŒæ™¯è‰²: #2D2D2Dï¼ˆãƒ€ãƒ¼ã‚¯ãƒ†ãƒ¼ãƒï¼‰
  - ã‚¿ã‚¤ãƒˆãƒ«èƒŒæ™¯: #1E1E1E
  - ãƒ†ã‚­ã‚¹ãƒˆè‰²: #fff / #cccï¼ˆæ˜ã‚‹ã„è‰²ï¼‰
  - ã‚¿ãƒ–: éé¸æŠæ™‚ #888ã€é¸æŠæ™‚ #0078d4
  - ãƒœã‚¿ãƒ³: ã€ŒOKã€â†’ã€Œé–‰ã˜ã‚‹ã€ã«å¤‰æ›´
  - ãƒœãƒ¼ãƒ€ãƒ¼: #3C3C3C ã§çµ±ä¸€

#### æ—¥æœ¬èªç”¨èªã®çµ±ä¸€ï¼ˆ2026-02-03ï¼‰
- âœ… **ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼è¡¨è¨˜ã®çµ±ä¸€**
  - Sidebar.tsx: ã€Œãƒ•ã‚©ãƒ«ãƒ€ãŒé–‹ã‹ã‚Œã¦ã„ã¾ã›ã‚“ã€â†’ã€Œãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ãŒé–‹ã‹ã‚Œã¦ã„ã¾ã›ã‚“ã€
  - EditorPage/index.tsx: ã€Œãƒ•ã‚©ãƒ«ãƒ€ãŒé–‹ã‹ã‚Œã¦ã„ã¾ã›ã‚“ã€â†’ã€Œãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ãŒé–‹ã‹ã‚Œã¦ã„ã¾ã›ã‚“ã€
  - ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ãƒ¼æ›´æ–°ãƒœã‚¿ãƒ³ã§ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’çµ±ä¸€

---

## P-004: ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ä¸­

### åŸºæœ¬æƒ…å ±

| é …ç›® | å†…å®¹ |
|------|------|
| ãƒšãƒ¼ã‚¸ID | P-004 |
| ãƒšãƒ¼ã‚¸å | ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ä¸­ |
| ãƒ‘ã‚¹ | `/maintenance` |
| å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼ | å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ |
| èªè¨¼ | ä¸è¦ |

### 1. ç”»é¢æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ãƒ˜ãƒƒãƒ€ãƒ¼ï¼ˆãƒ­ã‚´ï¼‰                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚                                                             â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚              â”‚                           â”‚                  â”‚
â”‚              â”‚      ğŸ”§ ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ä¸­     â”‚                  â”‚
â”‚              â”‚                           â”‚                  â”‚
â”‚              â”‚  ãŸã ã„ã¾ã‚·ã‚¹ãƒ†ãƒ ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ â”‚                  â”‚
â”‚              â”‚  ã‚’å®Ÿæ–½ä¸­ã§ã™ã€‚            â”‚                  â”‚
â”‚              â”‚                           â”‚                  â”‚
â”‚              â”‚  çµ‚äº†äºˆå®šæ™‚åˆ»:             â”‚                  â”‚
â”‚              â”‚  2026å¹´1æœˆ26æ—¥ 15:00      â”‚                  â”‚
â”‚              â”‚                           â”‚                  â”‚
â”‚              â”‚  ã”ä¸ä¾¿ã‚’ãŠã‹ã‘ã—ã¦ç”³ã—è¨³    â”‚                  â”‚
â”‚              â”‚  ã”ã–ã„ã¾ã›ã‚“ã€‚             â”‚                  â”‚
â”‚              â”‚                           â”‚                  â”‚
â”‚              â”‚        [å†èª­ã¿è¾¼ã¿]        â”‚                  â”‚
â”‚              â”‚                           â”‚                  â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚                                                             â”‚
â”‚                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      ãƒ•ãƒƒã‚¿ãƒ¼                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ§‹æˆ

| ã‚¨ãƒªã‚¢ | èª¬æ˜ | é«˜ã• |
|--------|------|------|
| ãƒ˜ãƒƒãƒ€ãƒ¼ | ã‚¢ãƒ—ãƒªãƒ­ã‚´ã®ã¿ | 64px |
| ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ | ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚«ãƒ¼ãƒ‰ï¼ˆä¸­å¤®é…ç½®ï¼‰ | calc(100vh - 128px) |
| ãƒ•ãƒƒã‚¿ãƒ¼ | ã‚³ãƒ”ãƒ¼ãƒ©ã‚¤ãƒˆ | 64px |

### 2. UIè¦ç´ 

#### ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚«ãƒ¼ãƒ‰

| è¦ç´ ID | è¦ç´  | ç¨®é¡ | ä»•æ§˜ |
|--------|------|------|------|
| maint-icon | ã‚¢ã‚¤ã‚³ãƒ³ | Icon | ğŸ”§ ãƒ„ãƒ¼ãƒ«ã‚¢ã‚¤ã‚³ãƒ³ã€å¤§ã‚µã‚¤ã‚º |
| maint-title | ã‚¿ã‚¤ãƒˆãƒ« | Typography | ã€Œãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ä¸­ã€h3 |
| maint-message | ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ | Typography | ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹èª¬æ˜æ–‡ |
| maint-schedule | çµ‚äº†äºˆå®š | Typography | çµ‚äº†äºˆå®šæ—¥æ™‚ï¼ˆè¨­å®šã•ã‚Œã¦ã„ã‚‹å ´åˆï¼‰ |
| maint-apology | ãŠè©«ã³æ–‡ | Typography | å®šå‹ãŠè©«ã³æ–‡ |
| maint-reload | å†èª­ã¿è¾¼ã¿ãƒœã‚¿ãƒ³ | Button | ãƒšãƒ¼ã‚¸å†èª­ã¿è¾¼ã¿ |

### 3. æ“ä½œãƒ•ãƒ­ãƒ¼

```mermaid
flowchart TD
    A[ãƒšãƒ¼ã‚¸è¡¨ç¤º] --> B[ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æƒ…å ±å–å¾—]
    B --> C[ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ç”»é¢è¡¨ç¤º]
    C --> D{å†èª­ã¿è¾¼ã¿ã‚¯ãƒªãƒƒã‚¯?}
    D -->|Yes| E[ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹çŠ¶æ…‹ç¢ºèª]
    E --> F{ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹çµ‚äº†?}
    F -->|Yes| G[P-001ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ]
    F -->|No| C
    D -->|No| H[å¾…æ©Ÿ]
    H --> I{è‡ªå‹•ãƒªãƒ­ãƒ¼ãƒ‰?}
    I -->|60ç§’çµŒé| E
    I -->|No| H
```

#### ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ä¸€è¦§

| No | ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ | ãƒˆãƒªã‚¬ãƒ¼ | å‡¦ç† | é·ç§»å…ˆ |
|----|-----------|----------|------|--------|
| 1 | å†èª­ã¿è¾¼ã¿ | ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ | ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹çŠ¶æ…‹ç¢ºèª | P-001ï¼ˆçµ‚äº†æ™‚ï¼‰ |

### 4. çŠ¶æ…‹ç®¡ç†ï¼ˆZustandï¼‰

#### ä½¿ç”¨ã‚¹ãƒˆã‚¢: `maintenanceStore`

```typescript
interface MaintenanceState {
  // çŠ¶æ…‹
  isLoading: boolean;
  message: string;              // ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
  scheduledEnd: string | null;  // çµ‚äº†äºˆå®šæ—¥æ™‚

  // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
  fetchMaintenanceInfo: () => Promise<void>;
  checkMaintenanceStatus: () => Promise<boolean>;  // true=ã¾ã ãƒ¡ãƒ³ãƒ†ä¸­
}
```

### 5. APIå‘¼ã³å‡ºã—

| API | ãƒ¡ã‚½ãƒƒãƒ‰ | ãƒ‘ã‚¹ | èª¬æ˜ |
|-----|----------|------|------|
| ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æƒ…å ±å–å¾— | GET | `/api/system/maintenance` | ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹çŠ¶æ…‹ãƒ»æƒ…å ±å–å¾— |

#### ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹

```typescript
// GET /api/system/maintenance
interface MaintenanceResponse {
  isActive: boolean;
  message: string;
  scheduledEnd: string | null;  // ISO 8601å½¢å¼
}
```

### 6. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æˆ

```
MaintenancePage/
â”œâ”€â”€ index.tsx              # ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ MaintenanceCard.tsx    # ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚«ãƒ¼ãƒ‰
â””â”€â”€ CountdownTimer.tsx     # çµ‚äº†ã¾ã§ã®ã‚«ã‚¦ãƒ³ãƒˆãƒ€ã‚¦ãƒ³ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
```

---

## A-001: ç®¡ç†ï¼šåˆ©ç”¨çŠ¶æ³

### åŸºæœ¬æƒ…å ±

| é …ç›® | å†…å®¹ |
|------|------|
| ãƒšãƒ¼ã‚¸ID | A-001 |
| ãƒšãƒ¼ã‚¸å | ç®¡ç†ï¼šåˆ©ç”¨çŠ¶æ³ |
| ãƒ‘ã‚¹ | `/admin/usage` |
| å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼ | ç®¡ç†è€… |
| èªè¨¼ | å¿…è¦ï¼ˆç®¡ç†è€…æ¨©é™ï¼‰ |

### 1. ç”»é¢æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒ­ã‚´                           [ç®¡ç†] [åˆ©ç”¨çŠ¶æ³] [ã‚·ã‚¹ãƒ†ãƒ è¨­å®š]   [Userâ–¼]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  åˆ©ç”¨çŠ¶æ³ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰                                                      â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚ ç·ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°     â”‚  â”‚ ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼ â”‚  â”‚ æœ¬æ—¥ã®ãƒ­ã‚°ã‚¤ãƒ³   â”‚             â”‚
â”‚  â”‚     1,234       â”‚  â”‚      456        â”‚  â”‚      78         â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                                             â”‚
â”‚  ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§                                              [æ¤œç´¢...] [CSV]   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹          â”‚ åå‰        â”‚ ç™»éŒ²æ—¥      â”‚ æœ€çµ‚ãƒ­ã‚°ã‚¤ãƒ³  â”‚ ãƒ­ãƒ¼ãƒ« â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ user1@example.com      â”‚ ãƒ¦ãƒ¼ã‚¶ãƒ¼1   â”‚ 2026/01/01 â”‚ 2026/01/26 â”‚ ä¸€èˆ¬  â”‚ â”‚
â”‚  â”‚ user2@example.com      â”‚ ãƒ¦ãƒ¼ã‚¶ãƒ¼2   â”‚ 2026/01/05 â”‚ 2026/01/25 â”‚ ä¸€èˆ¬  â”‚ â”‚
â”‚  â”‚ admin@example.com      â”‚ ç®¡ç†è€…      â”‚ 2025/12/01 â”‚ 2026/01/26 â”‚ ç®¡ç†è€…â”‚ â”‚
â”‚  â”‚ ...                    â”‚ ...        â”‚ ...        â”‚ ...        â”‚ ...   â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚                        < 1 2 3 4 5 ... 10 >                           â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚  åˆ©ç”¨çµ±è¨ˆã‚°ãƒ©ãƒ•                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ [æ—¥åˆ¥â–¼] [é€±åˆ¥] [æœˆåˆ¥]                                      æœŸé–“: [â–¼]   â”‚ â”‚
â”‚  â”‚                                                                       â”‚ â”‚
â”‚  â”‚    â–â–‚â–ƒâ–…â–‡â–ˆâ–†â–„â–ƒâ–‚â–â–‚â–„â–†â–ˆâ–‡â–…â–ƒâ–‚â–â–‚â–ƒâ–„â–…â–†â–‡â–ˆ                                        â”‚ â”‚
â”‚  â”‚  æ—¥åˆ¥ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•°æ¨ç§»                                           â”‚ â”‚
â”‚  â”‚                                                                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                              ãƒ•ãƒƒã‚¿ãƒ¼                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ§‹æˆ

| ã‚¨ãƒªã‚¢ | èª¬æ˜ | ã‚µã‚¤ã‚º |
|--------|------|--------|
| ãƒ˜ãƒƒãƒ€ãƒ¼ | ãƒ­ã‚´ + ç®¡ç†ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ | height: 64px |
| ã‚µãƒãƒªãƒ¼ã‚«ãƒ¼ãƒ‰ | çµ±è¨ˆã‚µãƒãƒªãƒ¼ï¼ˆ3åˆ—ï¼‰ | height: auto |
| ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§ | ãƒ‡ãƒ¼ã‚¿ãƒ†ãƒ¼ãƒ–ãƒ« | flex: 1 |
| çµ±è¨ˆã‚°ãƒ©ãƒ• | ã‚°ãƒ©ãƒ•ã‚¨ãƒªã‚¢ | height: 300px |
| ãƒ•ãƒƒã‚¿ãƒ¼ | ã‚³ãƒ”ãƒ¼ãƒ©ã‚¤ãƒˆ | height: 48px |

### 2. UIè¦ç´ 

#### ç®¡ç†ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³

| è¦ç´ ID | è¦ç´  | ç¨®é¡ | ä»•æ§˜ |
|--------|------|------|------|
| admin-nav | ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ | Tabs | åˆ©ç”¨çŠ¶æ³ / ã‚·ã‚¹ãƒ†ãƒ è¨­å®š |
| admin-user | ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ | Menu | ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã€ã‚¨ãƒ‡ã‚£ã‚¿ã¸ã€ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ |

#### ã‚µãƒãƒªãƒ¼ã‚«ãƒ¼ãƒ‰

| è¦ç´ ID | è¦ç´  | ç¨®é¡ | ä»•æ§˜ |
|--------|------|------|------|
| summary-total | ç·ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•° | Card | ç™»éŒ²ãƒ¦ãƒ¼ã‚¶ãƒ¼ç·æ•° |
| summary-active | ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ¦ãƒ¼ã‚¶ãƒ¼ | Card | éå»30æ—¥ã®ãƒ­ã‚°ã‚¤ãƒ³ãƒ¦ãƒ¼ã‚¶ãƒ¼æ•° |
| summary-today | æœ¬æ—¥ã®ãƒ­ã‚°ã‚¤ãƒ³ | Card | ä»Šæ—¥ãƒ­ã‚°ã‚¤ãƒ³ã—ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼æ•° |

#### ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§

| è¦ç´ ID | è¦ç´  | ç¨®é¡ | ä»•æ§˜ |
|--------|------|------|------|
| user-search | æ¤œç´¢ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | TextField | ãƒ¡ãƒ¼ãƒ«ãƒ»åå‰ã§æ¤œç´¢ |
| user-export | CSVã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ | Button | ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§CSVå‡ºåŠ› |
| user-table | ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ†ãƒ¼ãƒ–ãƒ« | DataGrid | ã‚½ãƒ¼ãƒˆãƒ»ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³å¯¾å¿œ |

##### ãƒ†ãƒ¼ãƒ–ãƒ«ã‚«ãƒ©ãƒ 

| ã‚«ãƒ©ãƒ  | ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | ã‚½ãƒ¼ãƒˆ | å¹… |
|--------|-----------|-------|-----|
| ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ | email | å¯ | 250px |
| åå‰ | name | å¯ | 150px |
| ç™»éŒ²æ—¥ | createdAt | å¯ | 120px |
| æœ€çµ‚ãƒ­ã‚°ã‚¤ãƒ³ | lastLoginAt | å¯ | 120px |
| ãƒ­ãƒ¼ãƒ« | role | å¯ | 80px |

#### çµ±è¨ˆã‚°ãƒ©ãƒ•

| è¦ç´ ID | è¦ç´  | ç¨®é¡ | ä»•æ§˜ |
|--------|------|------|------|
| graph-period | æœŸé–“åˆ‡æ›¿ | ToggleButtonGroup | æ—¥åˆ¥/é€±åˆ¥/æœˆåˆ¥ |
| graph-range | è¡¨ç¤ºç¯„å›² | DateRangePicker | è¡¨ç¤ºæœŸé–“é¸æŠ |
| graph-chart | ã‚°ãƒ©ãƒ• | LineChart | rechartsä½¿ç”¨ |

### 3. æ“ä½œãƒ•ãƒ­ãƒ¼

```mermaid
flowchart TD
    A[ãƒšãƒ¼ã‚¸è¡¨ç¤º] --> B{ç®¡ç†è€…æ¨©é™?}
    B -->|No| C[P-003ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ]
    B -->|Yes| D[ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰è¡¨ç¤º]
    D --> E[ã‚µãƒãƒªãƒ¼å–å¾—]
    D --> F[ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§å–å¾—]
    D --> G[çµ±è¨ˆãƒ‡ãƒ¼ã‚¿å–å¾—]
    E --> H[ã‚µãƒãƒªãƒ¼ã‚«ãƒ¼ãƒ‰è¡¨ç¤º]
    F --> I[ãƒ†ãƒ¼ãƒ–ãƒ«è¡¨ç¤º]
    G --> J[ã‚°ãƒ©ãƒ•è¡¨ç¤º]
```

#### ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ä¸€è¦§

| No | ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ | ãƒˆãƒªã‚¬ãƒ¼ | å‡¦ç† | å‚™è€ƒ |
|----|-----------|----------|------|------|
| 1 | ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¤œç´¢ | æ¤œç´¢å…¥åŠ› | ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ•ã‚£ãƒ«ã‚¿ | ãƒ‡ãƒã‚¦ãƒ³ã‚¹300ms |
| 2 | ã‚½ãƒ¼ãƒˆ | ã‚«ãƒ©ãƒ ãƒ˜ãƒƒãƒ€ã‚¯ãƒªãƒƒã‚¯ | ä¸¦ã³æ›¿ãˆ | ASC/DESCåˆ‡æ›¿ |
| 3 | ãƒšãƒ¼ã‚¸å¤‰æ›´ | ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ | æ¬¡ãƒšãƒ¼ã‚¸å–å¾— | - |
| 4 | CSVã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ | ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ | CSVç”Ÿæˆãƒ»ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ | - |
| 5 | æœŸé–“åˆ‡æ›¿ | ãƒˆã‚°ãƒ«ãƒœã‚¿ãƒ³ | ã‚°ãƒ©ãƒ•å†æç”» | - |
| 6 | è¡¨ç¤ºç¯„å›²å¤‰æ›´ | æ—¥ä»˜é¸æŠ | ã‚°ãƒ©ãƒ•å†æç”» | - |
| 7 | ã‚·ã‚¹ãƒ†ãƒ è¨­å®šã¸ | ã‚¿ãƒ–ã‚¯ãƒªãƒƒã‚¯ | ãƒšãƒ¼ã‚¸é·ç§» | A-002 |
| 8 | ã‚¨ãƒ‡ã‚£ã‚¿ã¸ | ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚¯ãƒªãƒƒã‚¯ | ãƒšãƒ¼ã‚¸é·ç§» | P-003 |

### 4. çŠ¶æ…‹ç®¡ç†ï¼ˆZustandï¼‰

#### ä½¿ç”¨ã‚¹ãƒˆã‚¢: `adminUsageStore`

```typescript
interface UsageSummary {
  totalUsers: number;
  activeUsers: number;       // éå»30æ—¥
  todayLogins: number;
}

interface UserListItem {
  id: string;
  email: string;
  name: string;
  createdAt: string;
  lastLoginAt: string;
  role: 'user' | 'admin';
}

interface UsageStats {
  date: string;
  activeUsers: number;
  newUsers: number;
}

interface AdminUsageState {
  // çŠ¶æ…‹
  summary: UsageSummary | null;
  users: UserListItem[];
  totalUserCount: number;
  currentPage: number;
  pageSize: number;
  searchQuery: string;
  sortField: string;
  sortOrder: 'asc' | 'desc';
  stats: UsageStats[];
  statsPeriod: 'daily' | 'weekly' | 'monthly';
  statsRange: { start: string; end: string };
  isLoading: boolean;

  // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
  fetchSummary: () => Promise<void>;
  fetchUsers: () => Promise<void>;
  setPage: (page: number) => void;
  setSearch: (query: string) => void;
  setSort: (field: string, order: 'asc' | 'desc') => void;
  fetchStats: () => Promise<void>;
  setStatsPeriod: (period: 'daily' | 'weekly' | 'monthly') => void;
  setStatsRange: (start: string, end: string) => void;
  exportCSV: () => Promise<void>;
}
```

### 5. APIå‘¼ã³å‡ºã—

| API | ãƒ¡ã‚½ãƒƒãƒ‰ | ãƒ‘ã‚¹ | èª¬æ˜ |
|-----|----------|------|------|
| ã‚µãƒãƒªãƒ¼å–å¾— | GET | `/api/admin/usage/summary` | çµ±è¨ˆã‚µãƒãƒªãƒ¼ |
| ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§ | GET | `/api/admin/users` | ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³å¯¾å¿œ |
| çµ±è¨ˆãƒ‡ãƒ¼ã‚¿å–å¾— | GET | `/api/admin/usage/stats` | ã‚°ãƒ©ãƒ•ç”¨ãƒ‡ãƒ¼ã‚¿ |
| CSVã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ | GET | `/api/admin/users/export` | ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§CSV |

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹

```typescript
// GET /api/admin/users?page=1&size=20&search=xxx&sort=email&order=asc
interface UsersResponse {
  users: UserListItem[];
  total: number;
  page: number;
  size: number;
}

// GET /api/admin/usage/stats?period=daily&start=2026-01-01&end=2026-01-26
interface StatsResponse {
  stats: Array<{
    date: string;
    activeUsers: number;
    newUsers: number;
  }>;
}
```

### 6. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æˆ

```
AdminUsagePage/
â”œâ”€â”€ index.tsx              # ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ AdminLayout.tsx        # ç®¡ç†ç”»é¢ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
â”œâ”€â”€ AdminNav.tsx           # ç®¡ç†ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³
â”œâ”€â”€ SummaryCards.tsx       # ã‚µãƒãƒªãƒ¼ã‚«ãƒ¼ãƒ‰ç¾¤
â”œâ”€â”€ UserTable.tsx          # ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ†ãƒ¼ãƒ–ãƒ«
â”œâ”€â”€ UserSearch.tsx         # æ¤œç´¢ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
â”œâ”€â”€ UsageChart.tsx         # çµ±è¨ˆã‚°ãƒ©ãƒ•
â””â”€â”€ ChartControls.tsx      # ã‚°ãƒ©ãƒ•åˆ¶å¾¡
```

---

## A-002: ç®¡ç†ï¼šã‚·ã‚¹ãƒ†ãƒ è¨­å®š

### åŸºæœ¬æƒ…å ±

| é …ç›® | å†…å®¹ |
|------|------|
| ãƒšãƒ¼ã‚¸ID | A-002 |
| ãƒšãƒ¼ã‚¸å | ç®¡ç†ï¼šã‚·ã‚¹ãƒ†ãƒ è¨­å®š |
| ãƒ‘ã‚¹ | `/admin/settings` |
| å¯¾è±¡ãƒ¦ãƒ¼ã‚¶ãƒ¼ | ç®¡ç†è€… |
| èªè¨¼ | å¿…è¦ï¼ˆç®¡ç†è€…æ¨©é™ï¼‰ |

### 1. ç”»é¢æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ãƒ­ã‚´                           [ç®¡ç†] [åˆ©ç”¨çŠ¶æ³] [ã‚·ã‚¹ãƒ†ãƒ è¨­å®š]   [Userâ–¼]   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  ã‚·ã‚¹ãƒ†ãƒ è¨­å®š                                                                â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ“¢ å¯¾å¿œãƒ–ãƒ©ã‚¦ã‚¶æ¡ˆå†…                                          [ç·¨é›†]   â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ æ¨å¥¨ãƒ–ãƒ©ã‚¦ã‚¶: Chrome / Edge                                           â”‚ â”‚
â”‚  â”‚ Safari / Firefox ã¯ä¸€éƒ¨æ©Ÿèƒ½ãŒåˆ¶é™ã•ã‚Œã¾ã™ã€‚                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ“œ åˆ©ç”¨è¦ç´„                                                  [ç·¨é›†]   â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ ãƒãƒ¼ã‚¸ãƒ§ãƒ³: 1.0  æœ€çµ‚æ›´æ–°: 2026/01/26                                  â”‚ â”‚
â”‚  â”‚ [ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤º]                                                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ”§ ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰                                                  â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ ç¾åœ¨ã®çŠ¶æ…‹: [OFF]                                                     â”‚ â”‚
â”‚  â”‚                                                                       â”‚ â”‚
â”‚  â”‚ çµ‚äº†äºˆå®šæ—¥æ™‚: [æ—¥æ™‚é¸æŠ...]                                            â”‚ â”‚
â”‚  â”‚ ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸:   [ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å…¥åŠ›...]                          â”‚ â”‚
â”‚  â”‚                                                                       â”‚ â”‚
â”‚  â”‚              [ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰ã‚’ONã«ã™ã‚‹]                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ ğŸ‘¤ ç®¡ç†è€…ç®¡ç†                                              [è¿½åŠ ]     â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚ admin@example.com                              (è‡ªåˆ†)                 â”‚ â”‚
â”‚  â”‚ admin2@example.com                             [å‰Šé™¤]                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                              ãƒ•ãƒƒã‚¿ãƒ¼                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ§‹æˆ

| ã‚¨ãƒªã‚¢ | èª¬æ˜ | ã‚µã‚¤ã‚º |
|--------|------|--------|
| ãƒ˜ãƒƒãƒ€ãƒ¼ | ãƒ­ã‚´ + ç®¡ç†ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ | height: 64px |
| è¨­å®šã‚«ãƒ¼ãƒ‰ç¾¤ | å„è¨­å®šã‚»ã‚¯ã‚·ãƒ§ãƒ³ | flex: 1ï¼ˆã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯èƒ½ï¼‰ |
| ãƒ•ãƒƒã‚¿ãƒ¼ | ã‚³ãƒ”ãƒ¼ãƒ©ã‚¤ãƒˆ | height: 48px |

### 2. UIè¦ç´ 

#### 2.1 å¯¾å¿œãƒ–ãƒ©ã‚¦ã‚¶æ¡ˆå†…ã‚»ã‚¯ã‚·ãƒ§ãƒ³

| è¦ç´ ID | è¦ç´  | ç¨®é¡ | ä»•æ§˜ |
|--------|------|------|------|
| browser-card | ã‚«ãƒ¼ãƒ‰ | Card | è¨­å®šã‚«ãƒ¼ãƒ‰ |
| browser-title | ã‚¿ã‚¤ãƒˆãƒ« | Typography | ã€Œå¯¾å¿œãƒ–ãƒ©ã‚¦ã‚¶æ¡ˆå†…ã€+ ã‚¢ã‚¤ã‚³ãƒ³ |
| browser-content | æ¡ˆå†…æ–‡è¡¨ç¤º | Typography | ç¾åœ¨ã®æ¡ˆå†…æ–‡ |
| browser-edit-btn | ç·¨é›†ãƒœã‚¿ãƒ³ | Button | ç·¨é›†ãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º |

##### ç·¨é›†ãƒ€ã‚¤ã‚¢ãƒ­ã‚°

| è¦ç´ ID | è¦ç´  | ç¨®é¡ | ä»•æ§˜ |
|--------|------|------|------|
| browser-dialog | ãƒ€ã‚¤ã‚¢ãƒ­ã‚° | Dialog | ç·¨é›†ãƒ€ã‚¤ã‚¢ãƒ­ã‚° |
| browser-textarea | å…¥åŠ›ã‚¨ãƒªã‚¢ | TextField | multilineã€Markdownå¯¾å¿œ |
| browser-preview | ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ | Box | ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ |
| browser-save | ä¿å­˜ãƒœã‚¿ãƒ³ | Button | ä¿å­˜å®Ÿè¡Œ |
| browser-cancel | ã‚­ãƒ£ãƒ³ã‚»ãƒ« | Button | ãƒ€ã‚¤ã‚¢ãƒ­ã‚°é–‰ã˜ã‚‹ |

#### 2.2 åˆ©ç”¨è¦ç´„ã‚»ã‚¯ã‚·ãƒ§ãƒ³

| è¦ç´ ID | è¦ç´  | ç¨®é¡ | ä»•æ§˜ |
|--------|------|------|------|
| terms-card | ã‚«ãƒ¼ãƒ‰ | Card | è¨­å®šã‚«ãƒ¼ãƒ‰ |
| terms-version | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | Typography | ç¾åœ¨ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãƒ»æ›´æ–°æ—¥ |
| terms-preview-btn | ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ | Button | ç¾åœ¨ã®è¦ç´„ã‚’ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤º |
| terms-edit-btn | ç·¨é›†ãƒœã‚¿ãƒ³ | Button | ç·¨é›†ãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º |

##### ç·¨é›†ãƒ€ã‚¤ã‚¢ãƒ­ã‚°

| è¦ç´ ID | è¦ç´  | ç¨®é¡ | ä»•æ§˜ |
|--------|------|------|------|
| terms-dialog | ãƒ€ã‚¤ã‚¢ãƒ­ã‚° | Dialog | ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒ€ã‚¤ã‚¢ãƒ­ã‚° |
| terms-editor | ã‚¨ãƒ‡ã‚£ã‚¿ | Monaco Editor | Markdownç·¨é›† |
| terms-preview | ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ | Box | ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ |
| terms-version-input | ãƒãƒ¼ã‚¸ãƒ§ãƒ³å…¥åŠ› | TextField | æ–°ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå· |
| terms-save | ä¿å­˜ãƒœã‚¿ãƒ³ | Button | ä¿å­˜å®Ÿè¡Œ |
| terms-cancel | ã‚­ãƒ£ãƒ³ã‚»ãƒ« | Button | ãƒ€ã‚¤ã‚¢ãƒ­ã‚°é–‰ã˜ã‚‹ |

#### 2.3 ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¢ãƒ¼ãƒ‰ã‚»ã‚¯ã‚·ãƒ§ãƒ³

| è¦ç´ ID | è¦ç´  | ç¨®é¡ | ä»•æ§˜ |
|--------|------|------|------|
| maint-card | ã‚«ãƒ¼ãƒ‰ | Card | è¨­å®šã‚«ãƒ¼ãƒ‰ |
| maint-status | ç¾åœ¨ã®çŠ¶æ…‹ | Chip | ON/OFFè¡¨ç¤º |
| maint-schedule | çµ‚äº†äºˆå®š | DateTimePicker | çµ‚äº†æ—¥æ™‚é¸æŠ |
| maint-message | ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ | TextField | ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ |
| maint-toggle | åˆ‡æ›¿ãƒœã‚¿ãƒ³ | Button | ON/OFFåˆ‡æ›¿ |

#### 2.4 ç®¡ç†è€…ç®¡ç†ã‚»ã‚¯ã‚·ãƒ§ãƒ³

| è¦ç´ ID | è¦ç´  | ç¨®é¡ | ä»•æ§˜ |
|--------|------|------|------|
| admin-card | ã‚«ãƒ¼ãƒ‰ | Card | è¨­å®šã‚«ãƒ¼ãƒ‰ |
| admin-list | ç®¡ç†è€…ãƒªã‚¹ãƒˆ | List | ç™»éŒ²æ¸ˆã¿ç®¡ç†è€…ä¸€è¦§ |
| admin-item | ç®¡ç†è€…ã‚¢ã‚¤ãƒ†ãƒ  | ListItem | ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ + å‰Šé™¤ãƒœã‚¿ãƒ³ |
| admin-add-btn | è¿½åŠ ãƒœã‚¿ãƒ³ | Button | è¿½åŠ ãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º |

##### è¿½åŠ ãƒ€ã‚¤ã‚¢ãƒ­ã‚°

| è¦ç´ ID | è¦ç´  | ç¨®é¡ | ä»•æ§˜ |
|--------|------|------|------|
| admin-add-dialog | ãƒ€ã‚¤ã‚¢ãƒ­ã‚° | Dialog | è¿½åŠ ãƒ€ã‚¤ã‚¢ãƒ­ã‚° |
| admin-email-input | ãƒ¡ãƒ¼ãƒ«å…¥åŠ› | TextField | è¿½åŠ ã™ã‚‹ç®¡ç†è€…ã®ãƒ¡ãƒ¼ãƒ« |
| admin-add-submit | è¿½åŠ å®Ÿè¡Œ | Button | ç®¡ç†è€…è¿½åŠ  |
| admin-add-cancel | ã‚­ãƒ£ãƒ³ã‚»ãƒ« | Button | ãƒ€ã‚¤ã‚¢ãƒ­ã‚°é–‰ã˜ã‚‹ |

### 3. æ“ä½œãƒ•ãƒ­ãƒ¼

```mermaid
flowchart TD
    A[ãƒšãƒ¼ã‚¸è¡¨ç¤º] --> B{ç®¡ç†è€…æ¨©é™?}
    B -->|No| C[P-003ã¸ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆ]
    B -->|Yes| D[è¨­å®šç”»é¢è¡¨ç¤º]
    D --> E[å„è¨­å®šæƒ…å ±å–å¾—]
    E --> F[è¨­å®šã‚«ãƒ¼ãƒ‰è¡¨ç¤º]

    G[ç·¨é›†ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯] --> H[ç·¨é›†ãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º]
    H --> I[å†…å®¹ç·¨é›†]
    I --> J{ä¿å­˜?}
    J -->|Yes| K[APIå‘¼ã³å‡ºã—]
    K --> L{æˆåŠŸ?}
    L -->|Yes| M[è¨­å®šæ›´æ–°ãƒ»ãƒ€ã‚¤ã‚¢ãƒ­ã‚°é–‰ã˜ã‚‹]
    L -->|No| N[ã‚¨ãƒ©ãƒ¼è¡¨ç¤º]
    J -->|No| O[ãƒ€ã‚¤ã‚¢ãƒ­ã‚°é–‰ã˜ã‚‹]
```

#### ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ä¸€è¦§

| No | ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ | ãƒˆãƒªã‚¬ãƒ¼ | å‡¦ç† | å‚™è€ƒ |
|----|-----------|----------|------|------|
| 1 | ãƒ–ãƒ©ã‚¦ã‚¶æ¡ˆå†…ç·¨é›† | ç·¨é›†ã‚¯ãƒªãƒƒã‚¯ | ãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º | Markdown |
| 2 | ãƒ–ãƒ©ã‚¦ã‚¶æ¡ˆå†…ä¿å­˜ | ä¿å­˜ã‚¯ãƒªãƒƒã‚¯ | APIå‘¼ã³å‡ºã— | - |
| 3 | åˆ©ç”¨è¦ç´„ç·¨é›† | ç·¨é›†ã‚¯ãƒªãƒƒã‚¯ | ãƒ•ãƒ«ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒ€ã‚¤ã‚¢ãƒ­ã‚° | Monaco Editor |
| 4 | åˆ©ç”¨è¦ç´„ä¿å­˜ | ä¿å­˜ã‚¯ãƒªãƒƒã‚¯ | APIå‘¼ã³å‡ºã— | ãƒãƒ¼ã‚¸ãƒ§ãƒ³æ›´æ–° |
| 5 | ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ON | åˆ‡æ›¿ã‚¯ãƒªãƒƒã‚¯ | ç¢ºèªâ†’APIå‘¼ã³å‡ºã— | ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚° |
| 6 | ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹OFF | åˆ‡æ›¿ã‚¯ãƒªãƒƒã‚¯ | APIå‘¼ã³å‡ºã— | - |
| 7 | ç®¡ç†è€…è¿½åŠ  | è¿½åŠ ã‚¯ãƒªãƒƒã‚¯ | ãƒ€ã‚¤ã‚¢ãƒ­ã‚°è¡¨ç¤º | ãƒ¡ãƒ¼ãƒ«å…¥åŠ› |
| 8 | ç®¡ç†è€…å‰Šé™¤ | å‰Šé™¤ã‚¯ãƒªãƒƒã‚¯ | ç¢ºèªâ†’APIå‘¼ã³å‡ºã— | è‡ªåˆ†ã¯å‰Šé™¤ä¸å¯ |

### 4. çŠ¶æ…‹ç®¡ç†ï¼ˆZustandï¼‰

#### ä½¿ç”¨ã‚¹ãƒˆã‚¢: `adminSettingsStore`

```typescript
interface BrowserNotice {
  content: string;
  updatedAt: string;
}

interface Terms {
  content: string;
  version: string;
  updatedAt: string;
}

interface MaintenanceSettings {
  isActive: boolean;
  message: string;
  scheduledEnd: string | null;
}

interface Admin {
  id: string;
  email: string;
  isSelf: boolean;
}

interface AdminSettingsState {
  // çŠ¶æ…‹
  browserNotice: BrowserNotice | null;
  terms: Terms | null;
  maintenance: MaintenanceSettings | null;
  admins: Admin[];
  isLoading: boolean;
  isSaving: boolean;
  error: string | null;

  // ãƒ€ã‚¤ã‚¢ãƒ­ã‚°çŠ¶æ…‹
  browserDialogOpen: boolean;
  termsDialogOpen: boolean;
  adminDialogOpen: boolean;

  // ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
  fetchAll: () => Promise<void>;

  // ãƒ–ãƒ©ã‚¦ã‚¶æ¡ˆå†…
  openBrowserDialog: () => void;
  closeBrowserDialog: () => void;
  saveBrowserNotice: (content: string) => Promise<void>;

  // åˆ©ç”¨è¦ç´„
  openTermsDialog: () => void;
  closeTermsDialog: () => void;
  saveTerms: (content: string, version: string) => Promise<void>;

  // ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹
  setMaintenanceOn: (message: string, scheduledEnd: string | null) => Promise<void>;
  setMaintenanceOff: () => Promise<void>;

  // ç®¡ç†è€…
  openAdminDialog: () => void;
  closeAdminDialog: () => void;
  addAdmin: (email: string) => Promise<void>;
  removeAdmin: (id: string) => Promise<void>;
}
```

### 5. APIå‘¼ã³å‡ºã—

#### è¨­å®šå–å¾—

| API | ãƒ¡ã‚½ãƒƒãƒ‰ | ãƒ‘ã‚¹ | èª¬æ˜ |
|-----|----------|------|------|
| å…¨è¨­å®šå–å¾— | GET | `/api/admin/settings` | å…¨è¨­å®šä¸€æ‹¬å–å¾— |
| ç®¡ç†è€…ä¸€è¦§ | GET | `/api/admin/admins` | ç®¡ç†è€…ä¸€è¦§å–å¾— |

#### è¨­å®šæ›´æ–°

| API | ãƒ¡ã‚½ãƒƒãƒ‰ | ãƒ‘ã‚¹ | èª¬æ˜ |
|-----|----------|------|------|
| ãƒ–ãƒ©ã‚¦ã‚¶æ¡ˆå†…æ›´æ–° | PUT | `/api/admin/settings/browser-notice` | æ¡ˆå†…æ–‡æ›´æ–° |
| åˆ©ç”¨è¦ç´„æ›´æ–° | PUT | `/api/admin/settings/terms` | åˆ©ç”¨è¦ç´„æ›´æ–° |
| ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ON | POST | `/api/admin/maintenance/on` | ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹é–‹å§‹ |
| ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹OFF | POST | `/api/admin/maintenance/off` | ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹çµ‚äº† |
| ç®¡ç†è€…è¿½åŠ  | POST | `/api/admin/admins` | ç®¡ç†è€…è¿½åŠ  |
| ç®¡ç†è€…å‰Šé™¤ | DELETE | `/api/admin/admins/{id}` | ç®¡ç†è€…å‰Šé™¤ |

#### ãƒªã‚¯ã‚¨ã‚¹ãƒˆ/ãƒ¬ã‚¹ãƒãƒ³ã‚¹ä¾‹

```typescript
// GET /api/admin/settings
interface SettingsResponse {
  browserNotice: {
    content: string;
    updatedAt: string;
  };
  terms: {
    content: string;
    version: string;
    updatedAt: string;
  };
  maintenance: {
    isActive: boolean;
    message: string;
    scheduledEnd: string | null;
  };
}

// PUT /api/admin/settings/terms
interface UpdateTermsRequest {
  content: string;
  version: string;
}

// POST /api/admin/maintenance/on
interface MaintenanceOnRequest {
  message: string;
  scheduledEnd: string | null;  // ISO 8601
}

// POST /api/admin/admins
interface AddAdminRequest {
  email: string;
}
```

### 6. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æˆ

```
AdminSettingsPage/
â”œâ”€â”€ index.tsx                    # ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
â”œâ”€â”€ BrowserNoticeCard.tsx        # ãƒ–ãƒ©ã‚¦ã‚¶æ¡ˆå†…ã‚«ãƒ¼ãƒ‰
â”œâ”€â”€ BrowserNoticeDialog.tsx      # ãƒ–ãƒ©ã‚¦ã‚¶æ¡ˆå†…ç·¨é›†ãƒ€ã‚¤ã‚¢ãƒ­ã‚°
â”œâ”€â”€ TermsCard.tsx                # åˆ©ç”¨è¦ç´„ã‚«ãƒ¼ãƒ‰
â”œâ”€â”€ TermsDialog.tsx              # åˆ©ç”¨è¦ç´„ç·¨é›†ãƒ€ã‚¤ã‚¢ãƒ­ã‚°
â”œâ”€â”€ MaintenanceCard.tsx          # ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚«ãƒ¼ãƒ‰
â”œâ”€â”€ MaintenanceConfirmDialog.tsx # ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ONç¢ºèª
â”œâ”€â”€ AdminsCard.tsx               # ç®¡ç†è€…ç®¡ç†ã‚«ãƒ¼ãƒ‰
â”œâ”€â”€ AdminAddDialog.tsx           # ç®¡ç†è€…è¿½åŠ ãƒ€ã‚¤ã‚¢ãƒ­ã‚°
â””â”€â”€ AdminDeleteConfirmDialog.tsx # ç®¡ç†è€…å‰Šé™¤ç¢ºèª
```

### 7. UIæ”¹å–„ï¼ˆ2026-02-03ï¼‰

#### å®Ÿè£…æ¸ˆã¿æ”¹å–„

- âœ… **ç®¡ç†ç”»é¢ãƒ˜ãƒƒãƒ€ãƒ¼ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹è¡¨ç¤º**
  - AdminLayout ãƒ˜ãƒƒãƒ€ãƒ¼ã« ãƒ­ã‚°ã‚¤ãƒ³ä¸­ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’è¡¨ç¤º
  - ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’ä½¿ç”¨ã—ã¦ç®¡ç†è€…ã‚’è­˜åˆ¥å¯èƒ½

- âœ… **AdminLayout ã®ãƒ­ã‚°ã‚¢ã‚¦ãƒˆæ©Ÿèƒ½ä¿®æ­£**
  - useAuthStore ã‹ã‚‰ logout ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
  - handleLogout å†…ã§ logout() ã‚’å‘¼ã³å‡ºã—ã¦ã‹ã‚‰ navigate('/login')
  - èªè¨¼çŠ¶æ…‹ãŒã‚¯ãƒªã‚¢ã•ã‚Œãšã«ã‚¨ãƒ‡ã‚£ã‚¿ç”»é¢ã«é·ç§»ã™ã‚‹å•é¡Œã‚’è§£æ±º

- âœ… **ç®¡ç†è€…ä¸€è¦§ã«è‡ªåˆ†è­˜åˆ¥ãƒãƒƒãƒ—è¡¨ç¤º**
  - ç¾åœ¨ãƒ­ã‚°ã‚¤ãƒ³ä¸­ã®ç®¡ç†è€…ã«ã€Œè‡ªåˆ†ã€ãƒãƒƒãƒ—ã‚’è¡¨ç¤º
  - isSelf ãƒ•ãƒ©ã‚°ã§è­˜åˆ¥
  - è‡ªåˆ†è‡ªèº«ã‚’å‰Šé™¤ã§ããªã„ã‚ˆã†ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…

---

## å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

### 1. èªè¨¼é–¢é€£

```
components/common/
â”œâ”€â”€ AuthGuard.tsx            # èªè¨¼ã‚¬ãƒ¼ãƒ‰ï¼ˆæœªãƒ­ã‚°ã‚¤ãƒ³æ™‚ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆï¼‰
â”œâ”€â”€ AdminGuard.tsx           # ç®¡ç†è€…ã‚¬ãƒ¼ãƒ‰ï¼ˆæ¨©é™ãƒã‚§ãƒƒã‚¯ï¼‰
â”œâ”€â”€ TermsGuard.tsx           # åˆ©ç”¨è¦ç´„ã‚¬ãƒ¼ãƒ‰ï¼ˆæœªåŒæ„æ™‚ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆï¼‰
â””â”€â”€ MaintenanceGuard.tsx     # ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã‚¬ãƒ¼ãƒ‰ï¼ˆãƒ¡ãƒ³ãƒ†æ™‚ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆï¼‰
```

### 2. ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

```
components/Layout/
â”œâ”€â”€ AppHeader.tsx            # å…±é€šãƒ˜ãƒƒãƒ€ãƒ¼
â”œâ”€â”€ AppFooter.tsx            # å…±é€šãƒ•ãƒƒã‚¿ãƒ¼
â”œâ”€â”€ CenteredLayout.tsx       # ä¸­å¤®é…ç½®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆãƒ­ã‚°ã‚¤ãƒ³ç­‰ï¼‰
â”œâ”€â”€ FullLayout.tsx           # ãƒ•ãƒ«å¹…ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆï¼ˆã‚¨ãƒ‡ã‚£ã‚¿ï¼‰
â””â”€â”€ AdminLayout.tsx          # ç®¡ç†ç”»é¢ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
```

### 3. ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯

```
components/common/
â”œâ”€â”€ LoadingSpinner.tsx       # ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¡¨ç¤º
â”œâ”€â”€ ErrorBoundary.tsx        # ã‚¨ãƒ©ãƒ¼ãƒã‚¦ãƒ³ãƒ€ãƒª
â”œâ”€â”€ ErrorMessage.tsx         # ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤º
â”œâ”€â”€ SuccessSnackbar.tsx      # æˆåŠŸé€šçŸ¥
â””â”€â”€ ConfirmDialog.tsx        # ç¢ºèªãƒ€ã‚¤ã‚¢ãƒ­ã‚°
```

---

## çŠ¶æ…‹ç®¡ç†ã¾ã¨ã‚

### Zustandã‚¹ãƒˆã‚¢ä¸€è¦§

| ã‚¹ãƒˆã‚¢å | ç”¨é€” | ä½¿ç”¨ãƒšãƒ¼ã‚¸ |
|----------|------|-----------|
| authStore | èªè¨¼çŠ¶æ…‹ | å…¨ãƒšãƒ¼ã‚¸ |
| termsStore | åˆ©ç”¨è¦ç´„ | P-002 |
| fileStore | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ„ãƒªãƒ¼ | P-003 |
| tabStore | ã‚¿ãƒ–ç®¡ç† | P-003 |
| editorStore | ã‚¨ãƒ‡ã‚£ã‚¿è¨­å®š | P-003 |
| previewStore | ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¨­å®š | P-003 |
| favoriteStore | ãŠæ°—ã«å…¥ã‚Š | P-003 |
| uiStore | UIçŠ¶æ…‹ | P-003 |
| maintenanceStore | ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ | P-004 |
| adminUsageStore | åˆ©ç”¨çŠ¶æ³ | A-001 |
| adminSettingsStore | ã‚·ã‚¹ãƒ†ãƒ è¨­å®š | A-002 |

### æ°¸ç¶šåŒ–

| ã‚¹ãƒˆã‚¢ | æ°¸ç¶šåŒ–æ–¹æ³• | å‚™è€ƒ |
|--------|-----------|------|
| authStore | localStorage | JWTãƒˆãƒ¼ã‚¯ãƒ³ |
| editorStore | localStorage | ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®š |
| previewStore | localStorage | è¡¨ç¤ºè¨­å®š |
| favoriteStore | ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰DB | APIçµŒç”± |
| fileStore.rootHandle | IndexedDB | ãƒ•ã‚©ãƒ«ãƒ€æ¨©é™ |

---

## APIä¸€è¦§ã¾ã¨ã‚

### èªè¨¼API

| ãƒ¡ã‚½ãƒƒãƒ‰ | ãƒ‘ã‚¹ | èª¬æ˜ |
|----------|------|------|
| POST | `/api/auth/google` | Googleãƒ­ã‚°ã‚¤ãƒ³ |
| POST | `/api/auth/logout` | ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ |
| GET | `/api/users/me` | ãƒ­ã‚°ã‚¤ãƒ³ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ± |
| POST | `/api/users/agree-terms` | åˆ©ç”¨è¦ç´„åŒæ„ |
| GET | `/api/users/settings` | ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šå–å¾— |
| PUT | `/api/users/settings` | ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šä¿å­˜ |

### ã‚·ã‚¹ãƒ†ãƒ API

| ãƒ¡ã‚½ãƒƒãƒ‰ | ãƒ‘ã‚¹ | èª¬æ˜ |
|----------|------|------|
| GET | `/api/system/maintenance` | ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹çŠ¶æ…‹ |
| GET | `/api/system/browser-notice` | ãƒ–ãƒ©ã‚¦ã‚¶æ¡ˆå†… |
| GET | `/api/system/terms` | åˆ©ç”¨è¦ç´„ |

### ãŠæ°—ã«å…¥ã‚ŠAPI

| ãƒ¡ã‚½ãƒƒãƒ‰ | ãƒ‘ã‚¹ | èª¬æ˜ |
|----------|------|------|
| GET | `/api/favorites` | ãŠæ°—ã«å…¥ã‚Šä¸€è¦§ |
| POST | `/api/favorites` | ãŠæ°—ã«å…¥ã‚Šè¿½åŠ  |
| DELETE | `/api/favorites/{id}` | ãŠæ°—ã«å…¥ã‚Šå‰Šé™¤ |

### ç®¡ç†APIï¼ˆç®¡ç†è€…å°‚ç”¨ï¼‰

| ãƒ¡ã‚½ãƒƒãƒ‰ | ãƒ‘ã‚¹ | èª¬æ˜ |
|----------|------|------|
| GET | `/api/admin/usage/summary` | åˆ©ç”¨ã‚µãƒãƒªãƒ¼ |
| GET | `/api/admin/users` | ãƒ¦ãƒ¼ã‚¶ãƒ¼ä¸€è¦§ |
| GET | `/api/admin/users/export` | ãƒ¦ãƒ¼ã‚¶ãƒ¼CSV |
| GET | `/api/admin/usage/stats` | åˆ©ç”¨çµ±è¨ˆ |
| GET | `/api/admin/settings` | å…¨è¨­å®šå–å¾— |
| PUT | `/api/admin/settings/browser-notice` | ãƒ–ãƒ©ã‚¦ã‚¶æ¡ˆå†…æ›´æ–° |
| PUT | `/api/admin/settings/terms` | åˆ©ç”¨è¦ç´„æ›´æ–° |
| POST | `/api/admin/maintenance/on` | ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ON |
| POST | `/api/admin/maintenance/off` | ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹OFF |
| GET | `/api/admin/admins` | ç®¡ç†è€…ä¸€è¦§ |
| POST | `/api/admin/admins` | ç®¡ç†è€…è¿½åŠ  |
| DELETE | `/api/admin/admins/{id}` | ç®¡ç†è€…å‰Šé™¤ |

### ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆAPI

| ãƒ¡ã‚½ãƒƒãƒ‰ | ãƒ‘ã‚¹ | èª¬æ˜ |
|----------|------|------|
| POST | `/api/export/word` | Wordå‡ºåŠ›ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰ |

---

## ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶

### åŸºæœ¬æ–¹é‡
æœ¬ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ **CVSS 3.1ï¼ˆCommon Vulnerability Scoring Systemï¼‰** ã«æº–æ‹ ã—ãŸã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶ã‚’æº€ãŸã™ã“ã¨ã€‚

### Content Security Policy (CSP) è¨­å®š

**æœ¬ç•ªç’°å¢ƒã§ã® CSP ãƒ˜ãƒƒãƒ€ãƒ¼**:
- `default-src: 'self'`
- `script-src: 'self' 'unsafe-inline' 'unsafe-eval' https://accounts.google.com https://cdn.jsdelivr.net`
- `style-src: 'self' 'unsafe-inline' https://cdn.jsdelivr.net`
- `style-src-elem: 'self' 'unsafe-inline' https://cdn.jsdelivr.net`
- `font-src: 'self' data:`
- `worker-src: blob:`
- `img-src: 'self' data: https:`
- `connect-src: 'self' https://*.googleapis.com https://*.sentry.io https://cdn.jsdelivr.net https://markdown-editor-backend-642526317126.asia-southeast1.run.app`
- `frame-src: https://accounts.google.com`

**CSPå¯¾å¿œç†ç”±**:
- Monaco Editorï¼ˆCDNï¼‰: script-src, style-src, connect-src ã§è¨±å¯
- Monaco Diff Editor Web Worker: worker-src 'blob:' ã§è¨±å¯
- ã‚«ã‚¹ã‚¿ãƒ ãƒ•ã‚©ãƒ³ãƒˆï¼ˆãƒ‡ãƒ¼ã‚¿URIï¼‰: font-src 'data:' ã§è¨±å¯
- Sentry ã‚¨ãƒ©ãƒ¼ç›£è¦–: connect-src ã§è¨±å¯
- Google OAuth: script-src, frame-src ã§è¨±å¯

### èªè¨¼æ©Ÿèƒ½ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- âœ… ãƒ–ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ¼ã‚¹æ”»æ’ƒå¯¾ç­–ï¼ˆãƒ¬ãƒ¼ãƒˆãƒªãƒŸãƒƒãƒˆï¼š1åˆ†é–“ã«5å›ã¾ã§ï¼‰
- âœ… ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†ï¼ˆã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆï¼š24æ™‚é–“ã€CSRFå¯¾ç­–ï¼‰
- âœ… JWTãƒˆãƒ¼ã‚¯ãƒ³ã®å®‰å…¨ãªç®¡ç†ï¼ˆHttpOnly Cookieï¼‰

### ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
- âœ… ãƒ•ã‚¡ã‚¤ãƒ«ã‚¿ã‚¤ãƒ—æ¤œè¨¼ï¼ˆ.md, .txt, .docx ã®ã¿è¨±å¯ï¼‰
- âœ… ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºåˆ¶é™ï¼ˆ5MBä»¥ä¸‹ï¼‰

---

**æ–‡æ›¸å±¥æ­´**

| ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | æ—¥ä»˜ | å¤‰æ›´å†…å®¹ |
|------------|------|----------|
| 1.0 | 2026-01-26 | åˆç‰ˆä½œæˆ |
| 2.0 | 2026-02-01 | ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒãƒ¼è©³ç´°ä»•æ§˜ã€å·®åˆ†æ¯”è¼ƒæ©Ÿèƒ½è©³ç´°ä»•æ§˜ã€è¨­å®šæ©Ÿèƒ½è©³ç´°ä»•æ§˜ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶ï¼ˆCSPè¨­å®šï¼‰ã‚’è¿½åŠ  |
| 3.0 | 2026-02-03 | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»UI/UXãƒ»ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚»ã‚¹æ”¹å–„å®Œäº†ï¼šRegisterPageã®è‡ªå‹•å…¥åŠ›é˜²æ­¢ã€HelpDialogãƒ»VersionInfoDialogã®åˆæœŸè¡¨ç¤ºä¿®æ­£ã€VersionInfoDialogã®ãƒ‡ã‚¶ã‚¤ãƒ³çµ±ä¸€ã€æ—¥æœ¬èªç”¨èªã®çµ±ä¸€ï¼ˆãƒ•ã‚©ãƒ«ãƒ€â†’ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ï¼‰ã€ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ã®ãƒ‡ãƒ¢ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå‰Šé™¤ã€AdminLayoutã®ãƒ­ã‚°ã‚¢ã‚¦ãƒˆæ©Ÿèƒ½ä¿®æ­£ã€ç®¡ç†ç”»é¢ãƒ˜ãƒƒãƒ€ãƒ¼ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹è¡¨ç¤ºå®Ÿè£… |
